# 第一同构定理 - 五种表征

**创建日期**: 2025年12月1日
**领域**: 代数学（群/环/模）
**难度**: L1-L2

---

## 元信息

| 属性 | 内容 |
|------|------|
| **定理** | 第一同构定理 |
| **领域** | 群论、环论、模论 |
| **别名** | 基本同态定理 |
| **前置知识** | 群同态、核、像、商群 |
| **Mathlib** | `Mathlib.GroupTheory.QuotientGroup` |

---

## 一、符号表征（形式化）

### 1.1 严格陈述

**定理（第一同构定理）**：设 φ: G → H 是群同态，则：

$$G / \ker(\varphi) \cong \text{Im}(\varphi)$$

具体地，映射 ψ: G/ker(φ) → Im(φ), g·ker(φ) ↦ φ(g) 是良定义的群同构。

### 1.2 交换图

```text
        φ
    G ────────→ H
    │           ↑
  π │           │ ι（包含）
    ↓     ψ̄     │
  G/ker(φ) ─→ Im(φ)
        ≅
```

### 1.3 Lean 4 形式化

```lean
import Mathlib.GroupTheory.QuotientGroup

-- 第一同构定理
theorem first_isomorphism_theorem {G H : Type*} [Group G] [Group H]
    (φ : G →* H) : G ⧸ φ.ker ≃* φ.range := by
  exact QuotientGroup.quotientKerEquivRange φ

-- 显式构造同构
def first_iso_map {G H : Type*} [Group G] [Group H] (φ : G →* H) :
    G ⧸ φ.ker →* φ.range where
  toFun := QuotientGroup.lift φ.ker φ.rangeRestrict (fun g hg => by
    simp [MonoidHom.mem_ker] at hg
    simp [hg])
  map_one' := by simp
  map_mul' := by simp [QuotientGroup.lift_mk]
```

### 1.4 证明要点

```text
        [第一同构定理证明]
                │
    ┌───────────┼───────────┐
    │           │           │
[良定义性]   [同态性]    [双射性]
    │           │           │
g₁~g₂ ⟹     ψ̄保持      ψ̄单射且满射
φ(g₁)=φ(g₂)  乘法
    │           │           │
    └───────────┼───────────┘
                │
            ψ̄是同构 ∎
```

---

## 二、几何表征（可视化）

### 2.1 核心图示

```text
        [第一同构定理的几何直觉]

    G（原群）
    ┌─────────────────────────┐
    │   ┌───┐ ┌───┐ ┌───┐    │
    │   │   │ │   │ │   │    │
    │   │ K │ │gK │ │g'K│    │  K = ker(φ)
    │   │   │ │   │ │   │    │
    │   └───┘ └───┘ └───┘    │
    │     ↓     ↓     ↓      │
    └─────────────────────────┘
          │     │     │
          ▼     ▼     ▼
    ┌─────────────────────────┐
    │   e    φ(g)  φ(g')      │  Im(φ) ⊂ H
    │   •     •      •        │
    │                         │
    └─────────────────────────┘

    每个陪集 gK "坍缩"成一个点 φ(g)
```

### 2.2 纤维直觉

```text
把 φ: G → H 想象成"投影"

    G
    │\
    │ \  φ⁻¹(y) = 纤维（一个陪集）
    │  \
    │   \
    │────●──── y ∈ Im(φ)
    │   /
    │  /
    │ /
    │/

每个纤维 = 一个ker(φ)的陪集
所有纤维大小相同 = |ker(φ)|
```

### 2.3 折叠比喻

```text
原空间G被"折叠"成商空间G/K

    ┌─────────────────┐
    │ a₁  a₂  a₃  ... │ ← ker的一个陪集
    │─────────────────│
    │ b₁  b₂  b₃  ... │ ← ker的另一个陪集
    │─────────────────│
    │ c₁  c₂  c₃  ... │
    └─────────────────┘
           ↓ 折叠（π）
    ┌─────────────────┐
    │   a     b    c  │ ← G/ker(φ)
    └─────────────────┘
           ↓ ψ̄ (同构)
    ┌─────────────────┐
    │ φ(a) φ(b) φ(c)  │ ← Im(φ)
    └─────────────────┘
```

---

## 三、直觉表征（类比）

### 3.1 一句话解释

> **第一同构定理**：同态的"信息损失"恰好等于"被压缩掉的部分"（核），剩下的与像同构

### 3.2 生活类比

**压缩文件类比**：

```text
原文件 G（1GB）
    │
    │ 压缩算法 φ
    ↓
压缩文件 Im(φ)（100MB）

问：压缩掉了什么？
答：冗余信息 = ker(φ)

G/ker(φ) ≅ Im(φ)
"有效信息"= 压缩后的内容
```

**学校→成绩类比**：

```text
学生集合 G（所有学生）
    │
    │ φ = "查成绩"
    ↓
成绩集合 H = {A, B, C, D, F}

ker(φ) = 成绩相同的学生分在一组
G/ker(φ) = "等价类"（按成绩分组）
         ≅ {A, B, C, D, F}（实际成绩集）
```

### 3.3 为什么是真的？

**核心逻辑**：

```text
1. ker(φ) 定义了 G 上的等价关系：
   g₁ ~ g₂ ⟺ φ(g₁) = φ(g₂) ⟺ g₁⁻¹g₂ ∈ ker(φ)

2. 这个等价关系的等价类恰好是陪集 g·ker(φ)

3. 商群 G/ker(φ) 的元素与 Im(φ) 的元素一一对应

4. 这个对应保持群结构 → 同构！
```

---

## 四、计算表征（算法）

### 4.1 Python实现

```python
from typing import Set, Dict, Callable, Tuple

def first_isomorphism_theorem_demo(
    G: Set,
    H: Set,
    phi: Callable,  # 同态 φ: G → H
    op_G: Callable, # G的运算
    op_H: Callable  # H的运算
) -> Dict:
    """
    演示第一同构定理
    """
    # 计算核
    identity_H = next(h for h in H if all(op_H(h, x) == x for x in H))
    kernel = {g for g in G if phi(g) == identity_H}

    # 计算像
    image = {phi(g) for g in G}

    # 计算商群 G/ker(φ)（陪集）
    cosets = []
    remaining = set(G)
    coset_map = {}  # 陪集 → 像中元素

    while remaining:
        g = next(iter(remaining))
        coset = frozenset({op_G(g, k) for k in kernel})
        cosets.append(coset)
        coset_map[coset] = phi(g)
        remaining -= coset

    # 验证同构
    quotient_size = len(cosets)
    image_size = len(image)

    return {
        'kernel': kernel,
        'kernel_size': len(kernel),
        'image': image,
        'image_size': image_size,
        'quotient_size': quotient_size,
        'isomorphism_holds': quotient_size == image_size,
        'coset_to_image': coset_map
    }

# 例子：ℤ → ℤ/nℤ，φ(x) = x mod n
n = 6
G = set(range(24))  # 取有限部分演示
H = set(range(n))
phi = lambda x: x % n
add_G = lambda a, b: a + b
add_H = lambda a, b: (a + b) % n

result = first_isomorphism_theorem_demo(G, H, phi, add_G, add_H)
print(f"ker(φ) = {result['kernel']}")
print(f"|ker(φ)| = {result['kernel_size']}")  # 4 (0,6,12,18)
print(f"Im(φ) = {result['image']}")
print(f"|Im(φ)| = {result['image_size']}")    # 6
print(f"|G/ker(φ)| = {result['quotient_size']}")  # 6
print(f"同构成立: {result['isomorphism_holds']}")  # True
```

### 4.2 矩阵同态的例子

```python
import numpy as np

def matrix_homomorphism_example():
    """
    φ: GL(2,ℝ) → ℝ*, A ↦ det(A)
    ker(φ) = SL(2,ℝ) = {A : det(A) = 1}
    Im(φ) = ℝ*
    GL(2,ℝ)/SL(2,ℝ) ≅ ℝ*
    """
    # 取一些示例矩阵
    matrices = [
        np.array([[2, 0], [0, 1]]),  # det = 2
        np.array([[1, 1], [0, 1]]),  # det = 1 (在核中)
        np.array([[3, 0], [0, 1]]),  # det = 3
        np.array([[1, 0], [1, 1]]),  # det = 1 (在核中)
    ]

    for M in matrices:
        det = np.linalg.det(M)
        in_kernel = abs(det - 1) < 1e-10
        print(f"det = {det:.1f}, 在核中: {in_kernel}")

matrix_homomorphism_example()
```

---

## 五、范畴表征（抽象）

### 5.1 范畴论视角

**第一同构定理是余核的万有性质**：

```text
在范畴Grp中：

    ker(φ) ─i→ G ─φ→ H
              │
            π │ (到余核的典范映射)
              ↓
           G/ker(φ) ≅ Im(φ)

G/ker(φ) = coker(i) = 余核
```

### 5.2 万有性质表述

```text
设 φ: G → H 是群同态，π: G → G/ker(φ) 是商映射

万有性质：对任意群同态 ψ: G → K 满足 ker(φ) ⊆ ker(ψ)
存在唯一 ψ̄: G/ker(φ) → K 使得 ψ = ψ̄ ∘ π

    G ──ψ──→ K
    │       ↗
  π │     ψ̄ (唯一!)
    ↓   ∕
  G/ker(φ)
```

### 5.3 阿贝尔范畴中的推广

```text
在阿贝尔范畴中（如Ab, Mod_R, Vect）：

第一同构定理 ⟺ 每个态射可以分解为

    A ─epi→ Im(f) ─mono→ B

    coim(f) ≅ im(f)

这是阿贝尔范畴的定义性质之一！
```

### 5.4 对比三个同构定理

```text
        [三个同构定理]
              │
    ┌─────────┼─────────┐
    │         │         │
[第一]     [第二]     [第三]
    │         │         │
G/ker(φ)  (HK)/K    (G/K)/(H/K)
≅ Im(φ)   ≅ H/(H∩K)  ≅ G/H
    │         │         │
基本同态   子群乘积   商的商
```

---

## 六、各代数结构中的形式

### 6.1 统一表述

| 结构 | 核 | 像 | 商 |
|------|-----|-----|-----|
| **群** | ker(φ)正规子群 | Im(φ)子群 | G/ker ≅ Im |
| **环** | ker(φ)理想 | Im(φ)子环 | R/ker ≅ Im |
| **模** | ker(φ)子模 | Im(φ)子模 | M/ker ≅ Im |
| **向量空间** | ker(φ)子空间 | Im(φ)子空间 | V/ker ≅ Im |

### 6.2 线性代数版本

```text
线性映射 T: V → W

dim(V) = dim(ker T) + dim(Im T)
         ↑             ↑
      零化度        秩

V/ker(T) ≅ Im(T) 作为向量空间
```

---

## 关联定理

| 定理 | 关系 |
|------|------|
| **第二同构定理** | 子群乘积的商 |
| **第三同构定理** | 商的商 |
| **对应定理** | 子群与商群子群的双射 |
| **Lagrange定理** | \|G\| = \|ker\| × \|Im\| |

---

**最后更新**: 2025年12月1日
**状态**: ✅ 完成
