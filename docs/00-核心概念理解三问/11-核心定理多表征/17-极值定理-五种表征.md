# 极值定理 - 五种表征

**创建日期**: 2025年12月1日
**领域**: 实分析
**难度**: L1

---

## 元信息

| 属性 | 内容 |
|------|------|
| **定理** | Weierstrass极值定理 |
| **领域** | 实分析 |
| **发现者** | Karl Weierstrass (19世纪) |
| **前置知识** | 连续性、紧致性 |

---

## 一、符号表征（形式化）

### 1.1 严格陈述

**极值定理**（Weierstrass极值定理）：设 $K \subset \mathbb{R}^n$ 是紧致集，$f: K \to \mathbb{R}$ 是连续函数，则 $f$ 在 $K$ 上取得最大值和最小值。

**形式化表述**：

$$\exists x_{\max}, x_{\min} \in K: f(x_{\min}) \leq f(x) \leq f(x_{\max}), \quad \forall x \in K$$

等价地：

$$\exists x_{\max} \in K: f(x_{\max}) = \sup_{x \in K} f(x)$$
$$\exists x_{\min} \in K: f(x_{\min}) = \inf_{x \in K} f(x)$$

### 1.2 等价形式

紧致集上的连续函数具有以下性质：

1. **有界性**：$f(K)$ 是有界集
2. **达到上确界**：$\sup f(K) \in f(K)$
3. **达到下确界**：$\inf f(K) \in f(K)$

### 1.3 一般拓扑空间

在一般拓扑空间中：

**定理**：设 $X$ 是紧致Hausdorff空间，$f: X \to \mathbb{R}$ 连续，则 $f$ 在 $X$ 上取得最大值和最小值。

### 1.4 Lean 4 形式化

```lean
import Mathlib.Topology.Order.Basic

theorem extreme_value_theorem {X : Type*} [TopologicalSpace X]
    [CompactSpace X] [Nonempty X] {f : X → ℝ} (hf : Continuous f) :
    ∃ x_max x_min : X, ∀ x : X, f x_min ≤ f x ∧ f x ≤ f x_max := by
  obtain ⟨x_max, hmax⟩ := IsCompact.exists_isMaxOn isCompact_univ
    (Set.univ_nonempty) hf.continuousOn
  obtain ⟨x_min, hmin⟩ := IsCompact.exists_isMinOn isCompact_univ
    (Set.univ_nonempty) hf.continuousOn
  exact ⟨x_max, x_min, fun x => ⟨hmin.2 trivial, hmax.2 trivial⟩⟩
```

---

## 二、几何表征（可视化）

### 2.1 核心图示

```text
闭区间上的连续函数：
    y
    ↑
    │     ╱╲  max
    │    ╱  ╲
    │   ╱    ╲
    │  ╱      ╲___
    │ ╱           ╲
    │╱    min      ╲
    └──────────────────→ x
    a              b
    
特征：
- 紧致集：[a, b]（有界闭）
- 连续函数：曲线无间断
- 必有最大值和最小值
```

### 2.2 反例

**反例1：非紧致集**

$f(x) = 1/x$ 在 $(0, 1]$ 上：
- 连续
- 有下界（$\inf = 1$），但无最小值
- 无上界（$\sup = +\infty$）

```text
    y
    ↑
    │  ╱
    │ ╱
    │╱  (无最大值)
    └──────────→ x
    0           1
```

**反例2：非连续函数**

Dirichlet函数 $D(x)$ 在 $[0, 1]$ 上：
- $\sup = 1$，但取不到（不连续）
- $\inf = 0$，但取不到

### 2.3 高维情况

在 $\mathbb{R}^2$ 中：

```text
紧致集（如闭圆盘）上的连续函数：
    z
    ↑
    │    ╱╲
    │   ╱  ╲  ← 最大值
    │  ╱    ╲
    │ ╱      ╲
    │╱________╲  ← 最小值
    └──────────→ (x,y)
```

---

## 三、直觉表征（类比）

### 3.1 物理类比

> **极值定理**：在有边界的区域内，连续变化的量必有最高点和最低点

**类比1：登山问题**

- **紧致集** = 封闭山区（有明确边界）
- **连续函数** = 连续地形（无悬崖）
- **最大值** = 最高峰
- **最小值** = 最低谷

**类比2：温度分布**

- 封闭房间内的温度分布
- 必有最热点和最冷点
- 这由物理定律（热力学）保证

### 3.2 经济类比

**类比**：在有限资源约束下：
- 成本函数必有最小值（最优解）
- 收益函数必有最大值（最优策略）

---

## 四、计算表征（算法）

### 4.1 Python实现

```python
import numpy as np
from scipy.optimize import minimize, minimize_scalar

def find_extrema_1d(f, a, b, n_samples=1000):
    """
    在[a,b]上找连续函数的极值
    
    参数:
        f: 函数
        a, b: 区间端点
        n_samples: 采样点数
    
    返回:
        dict: 最大值和最小值的位置和值
    """
    x = np.linspace(a, b, n_samples)
    y = f(x)
    i_max = np.argmax(y)
    i_min = np.argmin(y)
    return {
        'max': (x[i_max], y[i_max]),
        'min': (x[i_min], y[i_min])
    }

def find_extrema_optimization(f, bounds):
    """
    使用优化方法找极值
    
    参数:
        f: 函数
        bounds: 边界 [(a1, b1), (a2, b2), ...]
    
    返回:
        max_point, min_point: 最大值和最小值点
    """
    # 找最大值
    result_max = minimize(lambda x: -f(x), x0=[0.5*(a+b) for a,b in bounds], 
                         bounds=bounds)
    max_point = result_max.x
    max_value = -result_max.fun
    
    # 找最小值
    result_min = minimize(f, x0=[0.5*(a+b) for a,b in bounds], 
                         bounds=bounds)
    min_point = result_min.x
    min_value = result_min.fun
    
    return (max_point, max_value), (min_point, min_value)

# 例子
f = lambda x: np.sin(x) * np.exp(-x/5)
result = find_extrema_1d(f, 0, 10)
print(f"最大值: {result['max']}")
print(f"最小值: {result['min']}")
```

### 4.2 符号计算

```python
from sympy import symbols, diff, solve, simplify

def find_extrema_symbolic(f_expr, x_var, bounds):
    """
    符号化求极值
    
    参数:
        f_expr: 函数的符号表达式
        x_var: 变量
        bounds: 边界 (a, b)
    
    返回:
        critical_points: 临界点
        extrema: 极值
    """
    x = symbols(x_var)
    f_prime = diff(f_expr, x)
    
    # 找临界点（f'(x) = 0）
    critical_points = solve(f_prime, x)
    
    # 筛选在边界内的点
    a, b = bounds
    valid_points = [c for c in critical_points if a <= c <= b]
    
    # 计算函数值
    extrema = [(c, f_expr.subs(x, c)) for c in valid_points + [a, b]]
    
    max_point = max(extrema, key=lambda p: p[1])
    min_point = min(extrema, key=lambda p: p[1])
    
    return max_point, min_point
```

---

## 五、范畴表征（抽象）

### 5.1 拓扑视角

**极值定理** = **紧致性** + **连续性**

**证明思路**：
1. 紧致集 $K$ 的连续像 $f(K)$ 仍紧致（连续映射保持紧致性）
2. $\mathbb{R}$ 中紧致 = 有界闭
3. 有界闭集包含其上确界和下确界
4. 因此 $f$ 达到最大值和最小值

### 5.2 范畴论视角

在**拓扑空间范畴**中：

- **紧致空间**：对象
- **连续映射**：态射
- **极值定理**：紧致对象在连续态射下的性质

### 5.3 推广

**推广1**：紧致Hausdorff空间 → 偏序集

如果 $X$ 是紧致Hausdorff空间，$f: X \to P$ 连续（$P$ 是偏序集），则 $f(X)$ 有最大元和最小元。

**推广2**：局部紧致空间

在局部紧致空间中，如果函数在"无穷远"处有界，则仍有极值。

---

## 六、应用实例

### 6.1 优化问题

**例子1**：求 $f(x) = x^3 - 3x + 1$ 在 $[-2, 2]$ 上的最大值和最小值

- 临界点：$f'(x) = 3x^2 - 3 = 0$，得 $x = \pm 1$
- 计算：$f(-2) = -1$，$f(-1) = 3$，$f(1) = -1$，$f(2) = 3$
- 最大值：$f(-1) = f(2) = 3$
- 最小值：$f(-2) = f(1) = -1$

### 6.2 存在性证明

**例子2**：证明方程 $x^5 + x - 1 = 0$ 在 $[0, 1]$ 内有解

设 $f(x) = x^5 + x - 1$：
- $f(0) = -1 < 0$
- $f(1) = 1 > 0$
- 由介值定理，存在 $c \in (0, 1)$ 使得 $f(c) = 0$

### 6.3 约束优化

**例子3**：在约束 $x^2 + y^2 \leq 1$ 下，求 $f(x, y) = x^2 + 2y^2$ 的最大值和最小值

- 约束集是紧致集（闭圆盘）
- $f$ 连续
- 由极值定理，最大值和最小值存在
- 使用Lagrange乘数法求解

---

## 七、历史背景

### 7.1 发现历史

- **19世纪**：Weierstrass 严格证明了极值定理
- **基础**：依赖于实数完备性和紧致性理论
- **现代**：推广到一般拓扑空间

### 7.2 现代意义

极值定理是：
- 优化理论的基础
- 变分法的理论基础
- 数值分析中优化算法的理论保证

---

## 八、证明思路

### 8.1 标准证明

**证明**：

1. **有界性**：由于 $K$ 紧致，$f(K)$ 紧致，故有界。

2. **达到上确界**：设 $M = \sup_{x \in K} f(x)$。存在序列 $\{x_n\} \subset K$ 使得 $f(x_n) \to M$。由于 $K$ 紧致，存在收敛子列 $x_{n_k} \to x^* \in K$。由连续性，$f(x_{n_k}) \to f(x^*) = M$。因此 $f(x^*) = M$。

3. **达到下确界**：类似证明。

### 8.2 使用Heine-Borel

**证明**（$\mathbb{R}^n$ 的情况）：

1. $K$ 紧致（由Heine-Borel，等价于有界闭）
2. $f(K)$ 紧致（连续映射保持紧致性）
3. $f(K)$ 有界闭，故包含上确界和下确界

---

## 九、推广与变体

### 9.1 半连续函数

**上半连续函数**：如果 $f$ 上半连续且 $K$ 紧致，则 $f$ 达到最大值（但不一定达到最小值）。

**下半连续函数**：如果 $f$ 下半连续且 $K$ 紧致，则 $f$ 达到最小值（但不一定达到最大值）。

### 9.2 非紧致情况

对于非紧致集，可以添加"在无穷远处的行为"条件：
- 如果 $\lim_{|x| \to \infty} f(x) = +\infty$，则 $f$ 有最小值
- 如果 $\lim_{|x| \to \infty} f(x) = -\infty$，则 $f$ 有最大值

---

**状态**: ✅ 完成（已深化）
**字数**: 约2,400字
**数学公式数**: 8个
**例子数**: 6个
**最后更新**: 2026年01月02日
