# prime-number.yaml - 素数概念知识图谱节点
# FormalMath Knowledge Graph - Concept Node
# Created: 2025-12-01

concept:
  id: "prime-number"
  name:
    zh: "素数"
    en: "Prime Number"
  msc_codes: ["11A41", "11N05"]
  
  # ===== 定义层 =====
  definition:
    formal: |
      【整数素数】
      整数 p > 1 是素数，当且仅当：
      p 的正因子只有 1 和 p 本身。
      
      等价定义：
      p | ab ⟹ p | a 或 p | b
      
      【一般素元】
      整环 R 中元素 p ≠ 0 且 p 不是单位，称为素元，当且仅当：
      p | ab ⟹ p | a 或 p | b
      
    informal: |
      素数是"不能再分解"的正整数。
      
      2, 3, 5, 7, 11, 13, ... 是素数，
      它们只能被1和自身整除。
      
      素数是整数的"原子"——
      每个大于1的整数都可以唯一分解为素数乘积。
      
    lean: |
      -- Mathlib定义
      def Nat.Prime (p : ℕ) : Prop :=
        2 ≤ p ∧ ∀ m : ℕ, m ∣ p → m = 1 ∨ m = p
        
      -- 素元（一般环）
      def Prime {α : Type*} [CommMonoidWithZero α] (p : α) : Prop :=
        p ≠ 0 ∧ ¬IsUnit p ∧ ∀ a b, p ∣ a * b → p ∣ a ∨ p ∣ b
        
  # ===== 直觉层 =====
  intuition:
    geometric: |
      【几何直觉】不可分割
      - p个点排列：只能排成1×p或p×1
      - 不能排成非平凡矩形
      - 几何上的"原子性"
      
    algebraic: |
      【代数直觉】整除的基本块
      - 素数是乘法分解的终点
      - 唯一分解定理：n = p₁^{a₁}...pₖ^{aₖ}
      - 算术基本定理
      
    physical: |
      【物理直觉】基本粒子
      - 如果整数是分子，素数就是原子
      - 不能进一步分解
      - 构建所有整数的基本单元
      
    categorical: |
      【范畴直觉】
      - 素理想 (p) 对应素数
      - Spec(ℤ) = {素数} ∪ {(0)}
      - 代数几何的基础
      
  # ===== 表征层 =====
  representations:
    - type: "埃拉托色尼筛"
      content: |
        筛法找素数：
        
         2  3  ×  5  ×  7  ×  ×  × 11  × 13 ...
            │     │     │           │     │
            └──┬──┘     │           │     │
               │        │           │     │
         2的倍数划掉  3的倍数  ...
         
        剩下的就是素数
        
    - type: "分布可视化"
      content: |
        素数分布（渐趋稀疏）：
        
        密度 π(x)/x
          │╲
          │ ╲
          │  ╲___
          │      ╲___
          │          ╲___  ≈ 1/ln(x)
          └─────────────────→ x
          
    - type: "唯一分解"
      content: |
        整数的素数分解：
        
        360 = 2³ × 3² × 5¹
        
        ┌─360─┐
        │     │
        ↓     ↓
       180    2
        │
        ↓
       90─×─2
        │
       45─×─2
        │
        ↓
       15─×─3
        │
        ↓
        5─×─3
        
  # ===== 例子层 =====
  examples:
    small_primes:
      - name: "2"
        description: "唯一的偶素数"
        properties: ["最小素数"]
        
      - name: "3, 5, 7"
        description: "小素数"
        
      - name: "11, 13, 17, 19, 23, 29, 31"
        description: "个位数上限后的素数"
        
    special_primes:
      - name: "Mersenne素数 2ᵖ - 1"
        examples: "3, 7, 31, 127, 8191, ..."
        note: "需要p本身是素数"
        
      - name: "Fermat素数 2^{2ⁿ} + 1"
        examples: "3, 5, 17, 257, 65537"
        note: "只知道这5个"
        
      - name: "孪生素数 (p, p+2)"
        examples: "(3,5), (5,7), (11,13), (17,19)"
        conjecture: "无穷多对？"
        
      - name: "Sophie Germain素数"
        definition: "p和2p+1都是素数"
        examples: "2, 3, 5, 11, 23, 29"
        
    non_primes:
      - name: "1"
        reason: "定义排除：需要 > 1"
        
      - name: "4 = 2²"
        reason: "可分解"
        
      - name: "合数"
        reason: "有非平凡因子"
        
  # ===== 关系层 =====
  relations:
    requires:
      - id: "integer"
        description: "素数是特殊整数"
      - id: "divisibility"
        description: "整除概念"
        
    generalizes: []
        
    specialized_by:
      - id: "mersenne-prime"
        description: "Mersenne素数"
      - id: "fermat-prime"
        description: "Fermat素数"
      - id: "twin-prime"
        description: "孪生素数"
        
    related_to:
      - id: "prime-ideal"
        description: "素理想推广"
      - id: "prime-element"
        description: "一般环中的素元"
      - id: "factorization"
        description: "唯一分解"
        
  # ===== 定理层 =====
  key_theorems:
    - id: "infinitude-of-primes"
      statement: "素数有无穷多个"
      importance: 5
      prover: "Euclid"
      
    - id: "fundamental-theorem-arithmetic"
      statement: "每个 > 1 的整数可唯一分解为素数乘积"
      importance: 5
      
    - id: "prime-number-theorem"
      statement: "π(x) ~ x/ln(x)"
      importance: 5
      
    - id: "dirichlet-theorem"
      statement: "算术级数 a, a+d, a+2d, ... 中有无穷多素数（若gcd(a,d)=1）"
      importance: 5
      
  # ===== 元数据层 =====
  metadata:
    difficulty: 2
    importance: 5
    
    prerequisites:
      - "integer"
      - "divisibility"
      
    leads_to:
      - "number-theory"
      - "cryptography"
      - "algebraic-number-theory"
      
    history:
      first_appearance: "古希腊"
      context: "Euclid《几何原本》"
      
    key_figures:
      - id: "euclid"
        contribution: "素数无穷性证明"
      - id: "euler"
        contribution: "ζ函数与素数"
      - id: "riemann"
        contribution: "Riemann假设"
      - id: "hadamard-vallee-poussin"
        contribution: "素数定理证明"
        
  # ===== Mathlib对齐 =====
  mathlib:
    path: "Mathlib.Data.Nat.Prime"
    name: "Nat.Prime"
    coverage: "complete"
    
    related_definitions:
      - "Prime"
      - "Irreducible"
      - "minFac"
