# divisibility.yaml - 整除性概念知识图谱节点
# FormalMath Knowledge Graph - Concept Node
# Created: 2025-12-01

concept:
  id: "divisibility"
  name:
    zh: "整除"
    en: "Divisibility"
  msc_codes: ["11A05"]
  
  # ===== 定义层 =====
  definition:
    formal: |
      设 a, b ∈ ℤ，b ≠ 0。
      称 b 整除 a（记作 b | a），当且仅当：
      ∃ q ∈ ℤ, a = b · q
      
      等价地：a mod b = 0
      
    informal: |
      b 整除 a 意味着 a 是 b 的倍数，
      或者说 a 除以 b 没有余数。
      
      例如：3 | 12（12是3的倍数）
            5 ∤ 12（12不是5的倍数）
      
    lean: |
      -- Mathlib定义
      def Dvd (a b : ℤ) : Prop := ∃ c : ℤ, b = a * c
      
      instance : Dvd ℤ where
        dvd a b := ∃ c, b = a * c
        
  # ===== 直觉层 =====
  intuition:
    geometric: |
      【几何直觉】等分
      - b | a：a 个物品可以平均分成 b 份
      - 每份恰好整数个
      - 没有剩余
      
    algebraic: |
      【代数直觉】倍数关系
      - a 在 b 的倍数链上
      - ... → -2b → -b → 0 → b → 2b → ...
      - a 出现在这个链上
      
    categorical: |
      【范畴直觉】
      - 整除定义了ℤ上的预序
      - a | b 且 b | a ⟹ a = ±b
      - 形成偏序（考虑ℕ）
      
  # ===== 表征层 =====
  representations:
    - type: "数轴可视化"
      content: |
        3的倍数分布：
        
        ───┼───┼───┼───┼───┼───┼───┼───→
          -6  -3   0   3   6   9  12
           ●   ●   ●   ●   ●   ●   ●
           
        3 整除标记点上的所有数
        
    - type: "整除格"
      content: |
        正整数的整除格（部分）：
        
              12
             ╱  ╲
            6    4
           ╱ ╲  ╱ ╲
          3   2
           ╲ ╱
            1
            
        较低的整除较高的
        
  # ===== 例子层 =====
  examples:
    basic:
      - statement: "6 | 24"
        reason: "24 = 6 × 4"
        
      - statement: "7 ∤ 25"
        reason: "25 = 7 × 3 + 4"
        
      - statement: "1 | n 对所有 n"
        reason: "n = 1 × n"
        
      - statement: "n | 0 对所有 n ≠ 0"
        reason: "0 = n × 0"
        
    divisibility_tests:
      - number: 2
        test: "末位是偶数"
        
      - number: 3
        test: "各位数字和被3整除"
        
      - number: 9
        test: "各位数字和被9整除"
        
      - number: 11
        test: "奇位和与偶位和之差被11整除"
        
  # ===== 关系层 =====
  relations:
    requires:
      - id: "integer"
        description: "整除定义在整数上"
      - id: "multiplication"
        description: "用乘法定义"
        
    generalizes:
      - id: "even-odd"
        description: "奇偶性是2-整除性"
        
    specialized_by:
      - id: "prime-divisibility"
        description: "素数整除"
        
    related_to:
      - id: "gcd"
        description: "最大公约数"
      - id: "modular-arithmetic"
        description: "模算术"
      - id: "factorization"
        description: "因数分解"
        
  # ===== 定理层 =====
  key_theorems:
    - id: "division-algorithm"
      statement: "∀a,b>0, ∃! q,r: a = bq + r, 0 ≤ r < b"
      importance: 5
      
    - id: "euclidean-algorithm"
      statement: "gcd计算方法"
      importance: 5
      
    - id: "bezout-identity"
      statement: "gcd(a,b) = ax + by 某整数x,y"
      importance: 4
      
  # ===== 元数据层 =====
  metadata:
    difficulty: 1
    importance: 5
    
    prerequisites:
      - "integer"
      - "multiplication"
      
    leads_to:
      - "prime-number"
      - "modular-arithmetic"
      - "number-theory"
      
    history:
      first_appearance: "古代"
      context: "算术的基础"
      
  # ===== Mathlib对齐 =====
  mathlib:
    path: "Mathlib.Algebra.Divisibility.Basic"
    name: "Dvd"
    coverage: "complete"
