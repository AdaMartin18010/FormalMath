# derivative.yaml - å¯¼æ•°æ¦‚å¿µçŸ¥è¯†å›¾è°±èŠ‚ç‚¹
# FormalMath Knowledge Graph - Concept Node
# Created: 2025-12-01

concept:
  id: "derivative"
  name:
    zh: "å¯¼æ•°"
    en: "Derivative"
  msc_codes: ["26A24"]
  
  # ===== å®šä¹‰å±‚ =====
  definition:
    formal: |
      è®¾ f: â„ â†’ â„ï¼Œxâ‚€ âˆˆ â„ã€‚
      f åœ¨ xâ‚€ å¤„çš„å¯¼æ•°å®šä¹‰ä¸ºï¼š
      
      f'(xâ‚€) = lim_{hâ†’0} [f(xâ‚€ + h) - f(xâ‚€)] / h
      
      è‹¥æ­¤æé™å­˜åœ¨ï¼Œç§° f åœ¨ xâ‚€ å¯å¯¼ã€‚
      
      ã€å¤šå…ƒæƒ…å†µã€‘
      f: â„â¿ â†’ â„áµ åœ¨ xâ‚€ çš„å¯¼æ•°æ˜¯çº¿æ€§æ˜ å°„ Df(xâ‚€): â„â¿ â†’ â„áµ
      ä½¿å¾—ï¼šf(xâ‚€ + h) = f(xâ‚€) + Df(xâ‚€)(h) + o(â€–hâ€–)
      
    informal: |
      å¯¼æ•°æ˜¯å‡½æ•°çš„"ç¬æ—¶å˜åŒ–ç‡"ã€‚
      
      æƒ³è±¡å¼€è½¦ï¼š
      - ä½ç½®å‡½æ•° s(t)
      - é€Ÿåº¦ = ds/dt = ä½ç½®å˜åŒ–ç‡
      - åŠ é€Ÿåº¦ = dv/dt = é€Ÿåº¦å˜åŒ–ç‡
      
      å¯¼æ•° = æ›²çº¿çš„æ–œç‡ = å˜åŒ–çš„å¿«æ…¢
      
    lean: |
      -- Mathlibå®šä¹‰
      def HasDerivAt (f : â„ â†’ â„) (f' : â„) (x : â„) : Prop :=
        HasFDerivAt f (ContinuousLinearMap.smulRight 1 f') x
        
      theorem HasDerivAt.lim (h : HasDerivAt f f' x) :
        Tendsto (fun h => (f (x + h) - f x) / h) (ğ“[â‰ ] 0) (ğ“ f')
        
  # ===== ç›´è§‰å±‚ =====
  intuition:
    geometric: |
      ã€å‡ ä½•ç›´è§‰ã€‘åˆ‡çº¿æ–œç‡
      - f'(xâ‚€) = åœ¨ç‚¹ (xâ‚€, f(xâ‚€)) å¤„åˆ‡çº¿çš„æ–œç‡
      - å‰²çº¿æé™ â†’ åˆ‡çº¿
      - å±€éƒ¨çº¿æ€§è¿‘ä¼¼
      
    algebraic: |
      ã€ä»£æ•°ç›´è§‰ã€‘æœ€ä½³çº¿æ€§é€¼è¿‘
      - f(x) â‰ˆ f(xâ‚€) + f'(xâ‚€)(x - xâ‚€)
      - ä¸€é˜¶Taylorå±•å¼€
      - è¯¯å·®æ˜¯ o(x - xâ‚€)
      
    physical: |
      ã€ç‰©ç†ç›´è§‰ã€‘å˜åŒ–ç‡
      - ä½ç½® â†’ é€Ÿåº¦ â†’ åŠ é€Ÿåº¦
      - d/dt æ˜¯"å¯¹æ—¶é—´æ±‚å¯¼"
      - å¯¼æ•°æè¿°å˜åŒ–çš„å¿«æ…¢å’Œæ–¹å‘
      
  # ===== è¡¨å¾å±‚ =====
  representations:
    - type: "å‡ ä½•å›¾ç¤º"
      content: |
        å‰²çº¿è¶‹è¿‘äºåˆ‡çº¿ï¼š
        
           yâ”‚    â•± åˆ‡çº¿
            â”‚   â•±
            â”‚  â€¢â”€â”€â”€â”€â”€â”€â”€  å‰²çº¿
            â”‚ â•±
            â”‚â•± f(x)
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ x
               xâ‚€
               
    - type: "è¿ç®—è§„åˆ™"
      content: |
        å¯¼æ•°åŸºæœ¬å…¬å¼ï¼š
        - (cf)' = cf'
        - (f + g)' = f' + g'
        - (fg)' = f'g + fg'
        - (f/g)' = (f'g - fg')/gÂ²
        - (fâˆ˜g)' = (f'âˆ˜g) Â· g'
        
  # ===== ä¾‹å­å±‚ =====
  examples:
    basic:
      - function: "f(x) = xâ¿"
        derivative: "nxâ¿â»Â¹"
        
      - function: "f(x) = eË£"
        derivative: "eË£"
        note: "è‡ªå·±çš„å¯¼æ•°"
        
      - function: "f(x) = sin(x)"
        derivative: "cos(x)"
        
      - function: "f(x) = ln(x)"
        derivative: "1/x"
        
    non_differentiable:
      - function: "f(x) = |x|"
        point: "x = 0"
        reason: "å·¦å³å¯¼æ•°ä¸åŒ"
        
      - function: "Weierstrasså‡½æ•°"
        point: "å¤„å¤„"
        reason: "è¿ç»­ä½†å¤„å¤„ä¸å¯å¯¼"
        
  # ===== å…³ç³»å±‚ =====
  relations:
    requires:
      - id: "limit"
        description: "å¯¼æ•°ç”¨æé™å®šä¹‰"
      - id: "continuity"
        description: "å¯å¯¼ âŸ¹ è¿ç»­"
        
    generalizes: []
        
    specialized_by:
      - id: "partial-derivative"
        description: "åå¯¼æ•°"
      - id: "directional-derivative"
        description: "æ–¹å‘å¯¼æ•°"
      - id: "frechet-derivative"
        description: "FrÃ©chetå¯¼æ•°"
        
    related_to:
      - id: "integral"
        description: "å¾®ç§¯åˆ†åŸºæœ¬å®šç†"
      - id: "differential-equation"
        description: "å¾®åˆ†æ–¹ç¨‹"
        
  # ===== å®šç†å±‚ =====
  key_theorems:
    - id: "mean-value-theorem"
      statement: "f'(c) = [f(b)-f(a)]/(b-a) æŸ câˆˆ(a,b)"
      importance: 5
      
    - id: "chain-rule"
      statement: "(fâˆ˜g)' = (f'âˆ˜g) Â· g'"
      importance: 5
      
    - id: "fundamental-theorem-calculus"
      statement: "d/dx âˆ«â‚Ë£ f(t)dt = f(x)"
      importance: 5
      
    - id: "taylor-theorem"
      statement: "f(x) = Î£ fâ½â¿â¾(a)/n! (x-a)â¿ + Râ‚™"
      importance: 5
      
  # ===== å…ƒæ•°æ®å±‚ =====
  metadata:
    difficulty: 2
    importance: 5
    
    prerequisites:
      - "limit"
      - "continuity"
      
    leads_to:
      - "differential-equation"
      - "optimization"
      - "differential-geometry"
      
    history:
      first_appearance: 1684
      context: "Newtonå’ŒLeibnizçš„å¾®ç§¯åˆ†"
      
    key_figures:
      - id: "newton"
        contribution: "æµæ•°æ³•"
      - id: "leibniz"
        contribution: "å¾®åˆ†ç¬¦å·"
        
  # ===== Mathlibå¯¹é½ =====
  mathlib:
    path: "Mathlib.Analysis.Calculus.Deriv.Basic"
    name: "HasDerivAt"
    coverage: "complete"
