# ç»„åˆæ•°è®º / Combinatorial Number Theory

## ç›®å½• / Table of Contents

- [ç»„åˆæ•°è®º / Combinatorial Number Theory](#ç»„åˆæ•°è®º--combinatorial-number-theory)
  - [ç›®å½• / Table of Contents](#ç›®å½•--table-of-contents)
  - [1. åŸºæœ¬æ¦‚å¿µ / Basic Concepts](#1-åŸºæœ¬æ¦‚å¿µ--basic-concepts)
    - [1.1 ç»„åˆå‡½æ•° / Combinatorial Functions](#11-ç»„åˆå‡½æ•°--combinatorial-functions)
    - [1.2 ç»„åˆæ’ç­‰å¼ / Combinatorial Identities](#12-ç»„åˆæ’ç­‰å¼--combinatorial-identities)
    - [1.3 ç»„åˆåºåˆ— / Combinatorial Sequences](#13-ç»„åˆåºåˆ—--combinatorial-sequences)
  - [2. ç»„åˆæ’ç­‰å¼ / Combinatorial Identities](#2-ç»„åˆæ’ç­‰å¼--combinatorial-identities)
    - [2.1 åŸºæœ¬æ’ç­‰å¼ / Basic Identities](#21-åŸºæœ¬æ’ç­‰å¼--basic-identities)
    - [2.2 é«˜çº§æ’ç­‰å¼ / Advanced Identities](#22-é«˜çº§æ’ç­‰å¼--advanced-identities)
    - [2.3 å¤šé‡æ’ç­‰å¼ / Multiple Identities](#23-å¤šé‡æ’ç­‰å¼--multiple-identities)
  - [3. ç”Ÿæˆå‡½æ•° / Generating Functions](#3-ç”Ÿæˆå‡½æ•°--generating-functions)
    - [3.1 æ™®é€šç”Ÿæˆå‡½æ•° / Ordinary Generating Functions](#31-æ™®é€šç”Ÿæˆå‡½æ•°--ordinary-generating-functions)
    - [3.2 æŒ‡æ•°ç”Ÿæˆå‡½æ•° / Exponential Generating Functions](#32-æŒ‡æ•°ç”Ÿæˆå‡½æ•°--exponential-generating-functions)
    - [3.3 ç‹„åˆ©å…‹é›·ç”Ÿæˆå‡½æ•° / Dirichlet Generating Functions](#33-ç‹„åˆ©å…‹é›·ç”Ÿæˆå‡½æ•°--dirichlet-generating-functions)
  - [4. åˆ†æ‹†ç†è®º / Partition Theory](#4-åˆ†æ‹†ç†è®º--partition-theory)
    - [4.1 æ•´æ•°åˆ†æ‹† / Integer Partitions](#41-æ•´æ•°åˆ†æ‹†--integer-partitions)
    - [4.2 æ¬§æ‹‰æ’ç­‰å¼ / Euler's Identity](#42-æ¬§æ‹‰æ’ç­‰å¼--eulers-identity)
    - [4.3 ç½—æ°æ–¯-æ‹‰é©¬åŠªé‡‘æ’ç­‰å¼ / Rogers-Ramanujan Identities](#43-ç½—æ°æ–¯-æ‹‰é©¬åŠªé‡‘æ’ç­‰å¼--rogers-ramanujan-identities)
  - [5. åŠ æ³•ç»„åˆ / Additive Combinatorics](#5-åŠ æ³•ç»„åˆ--additive-combinatorics)
    - [5.1 åŠ æ³•é›† / Additive Sets](#51-åŠ æ³•é›†--additive-sets)
    - [5.2 å’Œé›†ä¼°è®¡ / Sumset Estimates](#52-å’Œé›†ä¼°è®¡--sumset-estimates)
    - [5.3 åŠ æ³•ç»„åˆçš„åº”ç”¨ / Applications of Additive Combinatorics](#53-åŠ æ³•ç»„åˆçš„åº”ç”¨--applications-of-additive-combinatorics)
  - [6. ä¹˜æ³•ç»„åˆ / Multiplicative Combinatorics](#6-ä¹˜æ³•ç»„åˆ--multiplicative-combinatorics)
    - [6.1 ä¹˜æ³•é›† / Multiplicative Sets](#61-ä¹˜æ³•é›†--multiplicative-sets)
    - [6.2 ä¹˜æ³•ç»„åˆçš„åº”ç”¨ / Applications of Multiplicative Combinatorics](#62-ä¹˜æ³•ç»„åˆçš„åº”ç”¨--applications-of-multiplicative-combinatorics)
  - [7. æå€¼ç»„åˆ / Extremal Combinatorics](#7-æå€¼ç»„åˆ--extremal-combinatorics)
    - [7.1 æå€¼å›¾è®º / Extremal Graph Theory](#71-æå€¼å›¾è®º--extremal-graph-theory)
    - [7.2 æ‹‰å§†é½ç†è®º / Ramsey Theory](#72-æ‹‰å§†é½ç†è®º--ramsey-theory)
    - [7.3 æå€¼é›†åˆè®º / Extremal Set Theory](#73-æå€¼é›†åˆè®º--extremal-set-theory)
  - [8. å½¢å¼åŒ–å®ç° / Formal Implementation](#8-å½¢å¼åŒ–å®ç°--formal-implementation)
    - [8.1 Lean 4 å®ç° / Lean 4 Implementation](#81-lean-4-å®ç°--lean-4-implementation)
    - [8.2 Haskell å®ç° / Haskell Implementation](#82-haskell-å®ç°--haskell-implementation)
    - [8.3 é‡è¦å®šç†æ€»ç»“ / Summary of Important Theorems](#83-é‡è¦å®šç†æ€»ç»“--summary-of-important-theorems)
  - [å‚è€ƒæ–‡çŒ® / References](#å‚è€ƒæ–‡çŒ®--references)

---

## ğŸ—ºï¸ ç»„åˆæ•°è®ºæ ¸å¿ƒæ¦‚å¿µæ€ç»´å¯¼å›¾

```mermaid
mindmap
  root((ç»„åˆæ•°è®º))
    ç»„åˆå‡½æ•°
      äºŒé¡¹å¼ç³»æ•°
        äºŒé¡¹å¼ç³»æ•°
        æ€§è´¨
      å¤šé‡ç»„åˆç³»æ•°
        å¤šé‡ç»„åˆç³»æ•°
        æ€§è´¨
      æ–¯ç‰¹æ—æ•°
        ç¬¬ä¸€ç±»æ–¯ç‰¹æ—æ•°
        ç¬¬äºŒç±»æ–¯ç‰¹æ—æ•°
    ç»„åˆæ’ç­‰å¼
      åŸºæœ¬æ’ç­‰å¼
        äºŒé¡¹å¼å®šç†
        èŒƒå¾·è’™å¾·æ’ç­‰å¼
      é«˜çº§æ’ç­‰å¼
        é«˜çº§æ’ç­‰å¼
        åº”ç”¨
    ç”Ÿæˆå‡½æ•°
      æ™®é€šç”Ÿæˆå‡½æ•°
        æ™®é€šç”Ÿæˆå‡½æ•°
        åº”ç”¨
      æŒ‡æ•°ç”Ÿæˆå‡½æ•°
        æŒ‡æ•°ç”Ÿæˆå‡½æ•°
        åº”ç”¨
      ç‹„åˆ©å…‹é›·ç”Ÿæˆå‡½æ•°
        ç‹„åˆ©å…‹é›·ç”Ÿæˆå‡½æ•°
        åº”ç”¨
    åˆ†æ‹†ç†è®º
      æ•´æ•°åˆ†æ‹†
        æ•´æ•°åˆ†æ‹†
        åˆ†æ‹†æ•°
      æ¬§æ‹‰æ’ç­‰å¼
        æ¬§æ‹‰æ’ç­‰å¼
        åº”ç”¨
      ç½—æ°æ–¯-æ‹‰é©¬åŠªé‡‘
        æ’ç­‰å¼
        åº”ç”¨
    åŠ æ³•ç»„åˆ
      åŠ æ³•é›†
        åŠ æ³•é›†
        å’Œé›†
      å’Œé›†ä¼°è®¡
        å’Œé›†ä¼°è®¡
        åº”ç”¨
    ä¹˜æ³•ç»„åˆ
      ä¹˜æ³•é›†
        ä¹˜æ³•é›†
        ç§¯é›†
      ä¹˜æ³•ç»„åˆåº”ç”¨
        åº”ç”¨
    æå€¼ç»„åˆ
      æå€¼å›¾è®º
        æå€¼å›¾è®º
        åº”ç”¨
      æ‹‰å§†é½ç†è®º
        æ‹‰å§†é½ç†è®º
        åº”ç”¨
      æå€¼é›†åˆè®º
        æå€¼é›†åˆè®º
        åº”ç”¨
```

## ğŸ“Š ç»„åˆæ•°è®ºæ ¸å¿ƒæ¦‚å¿µå¤šç»´çŸ¥è¯†çŸ©é˜µ

| æ¦‚å¿µç±»åˆ« | æ ¸å¿ƒæ¦‚å¿µ | å®šä¹‰è¦ç‚¹ | å…³é”®æ€§è´¨ | å…¸å‹ä¾‹å­ | åº”ç”¨åœºæ™¯ |
|---------|---------|---------|---------|---------|---------|
| ç»„åˆå‡½æ•° | äºŒé¡¹å¼ç³»æ•° | C(n,k) | å¯¹ç§°æ€§ | C(n,k) | ç»„åˆè®¡ç®— |
| ç»„åˆå‡½æ•° | å¤šé‡ç»„åˆç³»æ•° | C(n;kâ‚,...,káµ£) | å¯¹ç§°æ€§ | å¤šé‡ç»„åˆ | ç»„åˆè®¡ç®— |
| ç»„åˆå‡½æ•° | æ–¯ç‰¹æ—æ•° | s(n,k), S(n,k) | é€’æ¨å…³ç³» | æ–¯ç‰¹æ—æ•° | ç»„åˆè®¡ç®— |
| ç»„åˆæ’ç­‰å¼ | äºŒé¡¹å¼å®šç† | (x+y)â¿ | å±•å¼€å¼ | äºŒé¡¹å¼å®šç† | ç»„åˆè®¡ç®— |
| ç»„åˆæ’ç­‰å¼ | èŒƒå¾·è’™å¾·æ’ç­‰å¼ | å·ç§¯æ’ç­‰å¼ | å·ç§¯ | èŒƒå¾·è’™å¾· | ç»„åˆè®¡ç®— |
| ç”Ÿæˆå‡½æ•° | æ™®é€šç”Ÿæˆå‡½æ•° | å¹‚çº§æ•° | ç”Ÿæˆå‡½æ•° | G(x) | ç»„åˆè®¡ç®— |
| ç”Ÿæˆå‡½æ•° | æŒ‡æ•°ç”Ÿæˆå‡½æ•° | æŒ‡æ•°çº§æ•° | ç”Ÿæˆå‡½æ•° | E(x) | ç»„åˆè®¡ç®— |
| ç”Ÿæˆå‡½æ•° | ç‹„åˆ©å…‹é›·ç”Ÿæˆå‡½æ•° | ç‹„åˆ©å…‹é›·çº§æ•° | ç”Ÿæˆå‡½æ•° | D(s) | æ•°è®ºåº”ç”¨ |
| åˆ†æ‹†ç†è®º | æ•´æ•°åˆ†æ‹† | åˆ†æ‹†æ•° | åˆ†æ‹†å‡½æ•° | p(n) | æ•°è®ºç ”ç©¶ |
| åˆ†æ‹†ç†è®º | æ¬§æ‹‰æ’ç­‰å¼ | åˆ†æ‹†æ’ç­‰å¼ | æ’ç­‰å¼ | æ¬§æ‹‰æ’ç­‰å¼ | æ•°è®ºç ”ç©¶ |
| åˆ†æ‹†ç†è®º | ç½—æ°æ–¯-æ‹‰é©¬åŠªé‡‘ | åˆ†æ‹†æ’ç­‰å¼ | æ’ç­‰å¼ | ç½—æ°æ–¯-æ‹‰é©¬åŠªé‡‘ | æ•°è®ºç ”ç©¶ |
| åŠ æ³•ç»„åˆ | åŠ æ³•é›† | å’Œé›† | å’Œé›†ä¼°è®¡ | A+B | æ•°è®ºç ”ç©¶ |
| åŠ æ³•ç»„åˆ | å’Œé›†ä¼°è®¡ | å’Œé›†å¤§å° | ä¼°è®¡ | |A+B| | æ•°è®ºç ”ç©¶ |
| ä¹˜æ³•ç»„åˆ | ä¹˜æ³•é›† | ç§¯é›† | ç§¯é›†ä¼°è®¡ | AB | æ•°è®ºç ”ç©¶ |
| æå€¼ç»„åˆ | æå€¼å›¾è®º | æå€¼å›¾ | æå€¼é—®é¢˜ | æå€¼å›¾ | ç»„åˆæ•°å­¦ |
| æå€¼ç»„åˆ | æ‹‰å§†é½ç†è®º | æ‹‰å§†é½æ•° | æ‹‰å§†é½å®šç† | R(k,l) | ç»„åˆæ•°å­¦ |
| åº”ç”¨ | æ•°è®ºç ”ç©¶ | ç»„åˆæ–¹æ³• | æ•°è®ºé—®é¢˜ | ç»„åˆæ•°è®º | æ•°è®º |

## 1. åŸºæœ¬æ¦‚å¿µ / Basic Concepts

### 1.1 ç»„åˆå‡½æ•° / Combinatorial Functions

**å®šä¹‰ 1.1.1** (äºŒé¡¹å¼ç³»æ•° / Binomial Coefficient)
äºŒé¡¹å¼ç³»æ•°å®šä¹‰ä¸ºï¼š
$$\binom{n}{k} = \frac{n!}{k!(n-k)!}$$
å…¶ä¸­ $0 \leq k \leq n$ã€‚

**å®šä¹‰ 1.1.2** (å¤šé‡ç»„åˆç³»æ•° / Multinomial Coefficient)
å¤šé‡ç»„åˆç³»æ•°å®šä¹‰ä¸ºï¼š
$$\binom{n}{k_1, k_2, \ldots, k_r} = \frac{n!}{k_1! k_2! \cdots k_r!}$$
å…¶ä¸­ $k_1 + k_2 + \cdots + k_r = n$ã€‚

**å®šä¹‰ 1.1.3** (æ–¯ç‰¹æ—æ•° / Stirling Numbers)
ç¬¬ä¸€ç±»æ–¯ç‰¹æ—æ•° $s(n,k)$ å’Œç¬¬äºŒç±»æ–¯ç‰¹æ—æ•° $S(n,k)$ åˆ†åˆ«å®šä¹‰ä¸ºï¼š
$$x(x-1) \cdots (x-n+1) = \sum_{k=0}^n s(n,k) x^k$$
$$x^n = \sum_{k=0}^n S(n,k) x(x-1) \cdots (x-k+1)$$

### 1.2 ç»„åˆæ’ç­‰å¼ / Combinatorial Identities

**å®šç† 1.2.1** (äºŒé¡¹å¼å®šç† / Binomial Theorem)
$$(x+y)^n = \sum_{k=0}^n \binom{n}{k} x^k y^{n-k}$$

**å®šç† 1.2.2** (èŒƒå¾·è’™å¾·æ’ç­‰å¼ / Vandermonde Identity)
$$\binom{m+n}{k} = \sum_{i=0}^k \binom{m}{i} \binom{n}{k-i}$$

**å®šç† 1.2.3** (å¸•æ–¯å¡æ’ç­‰å¼ / Pascal's Identity)
$$\binom{n+1}{k} = \binom{n}{k} + \binom{n}{k-1}$$

### 1.3 ç»„åˆåºåˆ— / Combinatorial Sequences

**å®šä¹‰ 1.3.1** (æ–æ³¢é‚£å¥‘æ•°åˆ— / Fibonacci Sequence)
æ–æ³¢é‚£å¥‘æ•°åˆ—å®šä¹‰ä¸ºï¼š
$$F_0 = 0, F_1 = 1, F_n = F_{n-1} + F_{n-2}$$

**å®šä¹‰ 1.3.2** (å¡ç‰¹å…°æ•°åˆ— / Catalan Numbers)
å¡ç‰¹å…°æ•°åˆ—å®šä¹‰ä¸ºï¼š
$$C_n = \frac{1}{n+1} \binom{2n}{n}$$

**å®šä¹‰ 1.3.3** (è´å°”æ•°åˆ— / Bell Numbers)
è´å°”æ•°åˆ— $B_n$ å®šä¹‰ä¸º $n$ ä¸ªå…ƒç´ çš„é›†åˆçš„åˆ†åˆ’æ•°ã€‚

---

## 2. ç»„åˆæ’ç­‰å¼ / Combinatorial Identities

### 2.1 åŸºæœ¬æ’ç­‰å¼ / Basic Identities

**å®šç† 2.1.1** (äºŒé¡¹å¼ç³»æ•°çš„æ€§è´¨ / Properties of Binomial Coefficients)
å¯¹äºä»»æ„éè´Ÿæ•´æ•° $n, k$ï¼š

1. $\binom{n}{k} = \binom{n}{n-k}$
2. $\sum_{k=0}^n \binom{n}{k} = 2^n$
3. $\sum_{k=0}^n k \binom{n}{k} = n \cdot 2^{n-1}$
4. $\sum_{k=0}^n k^2 \binom{n}{k} = n(n+1) \cdot 2^{n-2}$

**å®šç† 2.1.2** (äºŒé¡¹å¼ç³»æ•°çš„é€’æ¨å…³ç³» / Recurrence Relations)
$$\binom{n+1}{k+1} = \sum_{i=k}^n \binom{i}{k}$$

**å®šç† 2.1.3** (äºŒé¡¹å¼ç³»æ•°çš„ç”Ÿæˆå‡½æ•° / Generating Function)
$$\sum_{n=0}^{\infty} \binom{n}{k} x^n = \frac{x^k}{(1-x)^{k+1}}$$

### 2.2 é«˜çº§æ’ç­‰å¼ / Advanced Identities

**å®šç† 2.2.1** (é«˜æ–¯æ’ç­‰å¼ / Gauss's Identity)
$$\sum_{k=0}^n \binom{n}{k} \binom{m}{k} = \binom{n+m}{n}$$

**å®šç† 2.2.2** (æœ±ä¸–æ°æ’ç­‰å¼ / Chu-Vandermonde Identity)
$$\sum_{k=0}^n \binom{n}{k} \binom{m}{r-k} = \binom{n+m}{r}$$

**å®šç† 2.2.3** (æå–„å…°æ’ç­‰å¼ / Li Shanlan's Identity)
$$\sum_{k=0}^n \binom{n}{k}^2 = \binom{2n}{n}$$

### 2.3 å¤šé‡æ’ç­‰å¼ / Multiple Identities

**å®šç† 2.3.1** (å¤šé‡äºŒé¡¹å¼å®šç† / Multinomial Theorem)
$$(x_1 + x_2 + \cdots + x_r)^n = \sum_{k_1 + \cdots + k_r = n} \binom{n}{k_1, \ldots, k_r} x_1^{k_1} \cdots x_r^{k_r}$$

**å®šç† 2.3.2** (æ–¯ç‰¹æ—æ•°çš„æ€§è´¨ / Properties of Stirling Numbers)
$$S(n+1,k) = S(n,k-1) + k S(n,k)$$
$$s(n+1,k) = s(n,k-1) - n s(n,k)$$

---

## 3. ç”Ÿæˆå‡½æ•° / Generating Functions

### 3.1 æ™®é€šç”Ÿæˆå‡½æ•° / Ordinary Generating Functions

**å®šä¹‰ 3.1.1** (æ™®é€šç”Ÿæˆå‡½æ•° / Ordinary Generating Function)
åºåˆ— $\{a_n\}$ çš„æ™®é€šç”Ÿæˆå‡½æ•°å®šä¹‰ä¸ºï¼š
$$A(x) = \sum_{n=0}^{\infty} a_n x^n$$

**å®šç† 3.1.1** (ç”Ÿæˆå‡½æ•°çš„åŸºæœ¬è¿ç®— / Basic Operations)
å¯¹äºåºåˆ— $\{a_n\}$ å’Œ $\{b_n\}$ï¼š

1. $A(x) + B(x) = \sum_{n=0}^{\infty} (a_n + b_n) x^n$
2. $A(x) \cdot B(x) = \sum_{n=0}^{\infty} \left(\sum_{k=0}^n a_k b_{n-k}\right) x^n$
3. $\frac{d}{dx} A(x) = \sum_{n=1}^{\infty} n a_n x^{n-1}$

**å®šç† 3.1.2** (æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç”Ÿæˆå‡½æ•° / Generating Function of Fibonacci Sequence)
$$\sum_{n=0}^{\infty} F_n x^n = \frac{x}{1-x-x^2}$$

### 3.2 æŒ‡æ•°ç”Ÿæˆå‡½æ•° / Exponential Generating Functions

**å®šä¹‰ 3.2.1** (æŒ‡æ•°ç”Ÿæˆå‡½æ•° / Exponential Generating Function)
åºåˆ— $\{a_n\}$ çš„æŒ‡æ•°ç”Ÿæˆå‡½æ•°å®šä¹‰ä¸ºï¼š
$$A(x) = \sum_{n=0}^{\infty} a_n \frac{x^n}{n!}$$

**å®šç† 3.2.1** (æŒ‡æ•°ç”Ÿæˆå‡½æ•°çš„æ€§è´¨ / Properties of Exponential Generating Functions)
å¯¹äºæŒ‡æ•°ç”Ÿæˆå‡½æ•° $A(x)$ å’Œ $B(x)$ï¼š

1. $A(x) + B(x) = \sum_{n=0}^{\infty} (a_n + b_n) \frac{x^n}{n!}$
2. $A(x) \cdot B(x) = \sum_{n=0}^{\infty} \left(\sum_{k=0}^n \binom{n}{k} a_k b_{n-k}\right) \frac{x^n}{n!}$

**å®šç† 3.2.2** (è´å°”æ•°åˆ—çš„æŒ‡æ•°ç”Ÿæˆå‡½æ•° / Exponential Generating Function of Bell Numbers)
$$\sum_{n=0}^{\infty} B_n \frac{x^n}{n!} = e^{e^x - 1}$$

### 3.3 ç‹„åˆ©å…‹é›·ç”Ÿæˆå‡½æ•° / Dirichlet Generating Functions

**å®šä¹‰ 3.3.1** (ç‹„åˆ©å…‹é›·ç”Ÿæˆå‡½æ•° / Dirichlet Generating Function)
åºåˆ— $\{a_n\}$ çš„ç‹„åˆ©å…‹é›·ç”Ÿæˆå‡½æ•°å®šä¹‰ä¸ºï¼š
$$A(s) = \sum_{n=1}^{\infty} \frac{a_n}{n^s}$$

**å®šç† 3.3.1** (ç‹„åˆ©å…‹é›·ç”Ÿæˆå‡½æ•°çš„å·ç§¯ / Convolution of Dirichlet Generating Functions)
$$A(s) \cdot B(s) = \sum_{n=1}^{\infty} \frac{(a * b)_n}{n^s}$$
å…¶ä¸­ $(a * b)_n = \sum_{d \mid n} a_d b_{n/d}$ã€‚

---

## 4. åˆ†æ‹†ç†è®º / Partition Theory

### 4.1 æ•´æ•°åˆ†æ‹† / Integer Partitions

**å®šä¹‰ 4.1.1** (æ•´æ•°åˆ†æ‹† / Integer Partition)
æ­£æ•´æ•° $n$ çš„åˆ†æ‹†æ˜¯å°† $n$ è¡¨ç¤ºä¸ºæ­£æ•´æ•°ä¹‹å’Œçš„æ–¹å¼ï¼Œä¸è€ƒè™‘é¡ºåºã€‚

**å®šä¹‰ 4.1.2** (åˆ†æ‹†å‡½æ•° / Partition Function)
åˆ†æ‹†å‡½æ•° $p(n)$ å®šä¹‰ä¸º $n$ çš„åˆ†æ‹†æ•°ã€‚

**å®šç† 4.1.1** (åˆ†æ‹†çš„ç”Ÿæˆå‡½æ•° / Generating Function of Partitions)
$$\sum_{n=0}^{\infty} p(n) x^n = \prod_{k=1}^{\infty} \frac{1}{1-x^k}$$

### 4.2 æ¬§æ‹‰æ’ç­‰å¼ / Euler's Identity

**å®šç† 4.2.1** (æ¬§æ‹‰æ’ç­‰å¼ / Euler's Identity)
$$\prod_{k=1}^{\infty} (1-x^k) = \sum_{n=-\infty}^{\infty} (-1)^n x^{n(3n-1)/2}$$

**å®šç† 4.2.2** (äº”è¾¹å½¢æ•°å®šç† / Pentagonal Number Theorem)
$$\prod_{k=1}^{\infty} (1-x^k) = 1 + \sum_{n=1}^{\infty} (-1)^n (x^{n(3n-1)/2} + x^{n(3n+1)/2})$$

### 4.3 ç½—æ°æ–¯-æ‹‰é©¬åŠªé‡‘æ’ç­‰å¼ / Rogers-Ramanujan Identities

**å®šç† 4.3.1** (ç¬¬ä¸€ä¸ªç½—æ°æ–¯-æ‹‰é©¬åŠªé‡‘æ’ç­‰å¼ / First Rogers-Ramanujan Identity)
$$\sum_{n=0}^{\infty} \frac{x^{n^2}}{(1-x)(1-x^2) \cdots (1-x^n)} = \prod_{k=1}^{\infty} \frac{1}{(1-x^{5k-1})(1-x^{5k-4})}$$

**å®šç† 4.3.2** (ç¬¬äºŒä¸ªç½—æ°æ–¯-æ‹‰é©¬åŠªé‡‘æ’ç­‰å¼ / Second Rogers-Ramanujan Identity)
$$\sum_{n=0}^{\infty} \frac{x^{n^2+n}}{(1-x)(1-x^2) \cdots (1-x^n)} = \prod_{k=1}^{\infty} \frac{1}{(1-x^{5k-2})(1-x^{5k-3})}$$

---

## 5. åŠ æ³•ç»„åˆ / Additive Combinatorics

### 5.1 åŠ æ³•é›† / Additive Sets

**å®šä¹‰ 5.1.1** (åŠ æ³•é›† / Additive Set)
é›†åˆ $A \subseteq \mathbb{Z}$ ç§°ä¸ºåŠ æ³•é›†ï¼Œå¦‚æœ $A + A = \{a + b : a, b \in A\}$ã€‚

**å®šä¹‰ 5.1.2** (åŠ æ³•èƒ½é‡ / Additive Energy)
é›†åˆ $A$ çš„åŠ æ³•èƒ½é‡å®šä¹‰ä¸ºï¼š
$$E(A) = |\{(a,b,c,d) \in A^4 : a + b = c + d\}|$$

**å®šç† 5.1.1** (åŠ æ³•èƒ½é‡çš„ä¸‹ç•Œ / Lower Bound for Additive Energy)
$$E(A) \geq \frac{|A|^4}{|A + A|}$$

### 5.2 å’Œé›†ä¼°è®¡ / Sumset Estimates

**å®šç† 5.2.1** (æ™®æ‹‰çº³å®šç† / PlÃ¼nnecke's Theorem)
å¦‚æœ $|A + B| \leq K|A|$ï¼Œåˆ™å¯¹äºä»»æ„ $k$ï¼š
$$|A + kB| \leq K^k|A|$$

**å®šç† 5.2.2** (é²å…¹å®šç† / Ruzsa's Triangle Inequality)
$$|A + C| \leq \frac{|A + B| \cdot |B + C|}{|B|}$$

### 5.3 åŠ æ³•ç»„åˆçš„åº”ç”¨ / Applications of Additive Combinatorics

**å®šç† 5.3.1** (èˆ’å°”å®šç† / Schur's Theorem)
å¯¹äºä»»æ„æ­£æ•´æ•° $r$ï¼Œå­˜åœ¨ $N$ ä½¿å¾—å¯¹äºä»»æ„ $r$ ç€è‰² $\{1,2,\ldots,N\} \to \{1,2,\ldots,r\}$ï¼Œéƒ½å­˜åœ¨å•è‰²çš„ $x, y, z$ ä½¿å¾— $x + y = z$ã€‚

**å®šç† 5.3.2** (èŒƒå¾·ç“¦å°”ç™»å®šç† / Van der Waerden's Theorem)
å¯¹äºä»»æ„æ­£æ•´æ•° $k$ å’Œ $r$ï¼Œå­˜åœ¨ $N$ ä½¿å¾—å¯¹äºä»»æ„ $r$ ç€è‰² $\{1,2,\ldots,N\} \to \{1,2,\ldots,r\}$ï¼Œéƒ½å­˜åœ¨å•è‰²çš„ $k$ é¡¹ç­‰å·®æ•°åˆ—ã€‚

---

## 6. ä¹˜æ³•ç»„åˆ / Multiplicative Combinatorics

### 6.1 ä¹˜æ³•é›† / Multiplicative Sets

**å®šä¹‰ 6.1.1** (ä¹˜æ³•é›† / Multiplicative Set)
é›†åˆ $A \subseteq \mathbb{N}$ ç§°ä¸ºä¹˜æ³•é›†ï¼Œå¦‚æœ $A \cdot A = \{a \cdot b : a, b \in A\}$ã€‚

**å®šä¹‰ 6.1.2** (ä¹˜æ³•èƒ½é‡ / Multiplicative Energy)
é›†åˆ $A$ çš„ä¹˜æ³•èƒ½é‡å®šä¹‰ä¸ºï¼š
$$E_{\times}(A) = |\{(a,b,c,d) \in A^4 : a \cdot b = c \cdot d\}|$$

**å®šç† 6.1.1** (ä¹˜æ³•èƒ½é‡çš„ä¼°è®¡ / Estimate for Multiplicative Energy)
$$E_{\times}(A) \geq \frac{|A|^4}{|A \cdot A|}$$

### 6.2 ä¹˜æ³•ç»„åˆçš„åº”ç”¨ / Applications of Multiplicative Combinatorics

**å®šç† 6.2.1** (å„å°”å¤šä»€-å›¾å…°å®šç† / ErdÅ‘s-TurÃ¡n Theorem)
å¯¹äºä»»æ„ $\epsilon > 0$ï¼Œå­˜åœ¨ $N$ ä½¿å¾—å¯¹äºä»»æ„ $A \subseteq \{1,2,\ldots,N\}$ï¼Œå¦‚æœ $|A| > \epsilon N$ï¼Œåˆ™ $A$ åŒ…å«ç­‰å·®æ•°åˆ—ã€‚

**å®šç† 6.2.2** (è¨åˆ©å§†å®šç† / SzemerÃ©di's Theorem)
å¯¹äºä»»æ„ $\delta > 0$ å’Œæ­£æ•´æ•° $k$ï¼Œå­˜åœ¨ $N$ ä½¿å¾—å¯¹äºä»»æ„ $A \subseteq \{1,2,\ldots,N\}$ï¼Œå¦‚æœ $|A| > \delta N$ï¼Œåˆ™ $A$ åŒ…å« $k$ é¡¹ç­‰å·®æ•°åˆ—ã€‚

---

## 7. æå€¼ç»„åˆ / Extremal Combinatorics

### 7.1 æå€¼å›¾è®º / Extremal Graph Theory

**å®šä¹‰ 7.1.1** (æå€¼å‡½æ•° / Extremal Function)
å¯¹äºå›¾ $H$ï¼Œæå€¼å‡½æ•° $ex(n,H)$ å®šä¹‰ä¸º $n$ ä¸ªé¡¶ç‚¹çš„å›¾ä¸­ä¸åŒ…å« $H$ ä½œä¸ºå­å›¾çš„æœ€å¤§è¾¹æ•°ã€‚

**å®šç† 7.1.1** (å›¾å…°å®šç† / TurÃ¡n's Theorem)
$$ex(n,K_r) = \left(1 - \frac{1}{r-1}\right) \frac{n^2}{2} + O(n)$$

**å®šç† 7.1.2** (å„å°”å¤šä»€-æ–¯é€šå®šç† / ErdÅ‘s-Stone Theorem)
å¯¹äºä»»æ„å›¾ $H$ï¼š
$$ex(n,H) = \left(1 - \frac{1}{\chi(H)-1}\right) \frac{n^2}{2} + o(n^2)$$

### 7.2 æ‹‰å§†é½ç†è®º / Ramsey Theory

**å®šä¹‰ 7.2.1** (æ‹‰å§†é½æ•° / Ramsey Number)
æ‹‰å§†é½æ•° $R(k,l)$ æ˜¯æœ€å°çš„ $n$ ä½¿å¾—ä»»æ„ $n$ ä¸ªé¡¶ç‚¹çš„å®Œå…¨å›¾çš„è¾¹ç”¨ä¸¤ç§é¢œè‰²ç€è‰²ï¼Œéƒ½å­˜åœ¨ $k$ ä¸ªé¡¶ç‚¹çš„çº¢è‰²å®Œå…¨å­å›¾æˆ– $l$ ä¸ªé¡¶ç‚¹çš„è“è‰²å®Œå…¨å­å›¾ã€‚

**å®šç† 7.2.1** (æ‹‰å§†é½å®šç† / Ramsey's Theorem)
æ‹‰å§†é½æ•° $R(k,l)$ å­˜åœ¨ä¸”æœ‰é™ã€‚

**å®šç† 7.2.2** (æ‹‰å§†é½æ•°çš„ç•Œ / Bounds for Ramsey Numbers)
$$R(k,l) \leq \binom{k+l-2}{k-1}$$

### 7.3 æå€¼é›†åˆè®º / Extremal Set Theory

**å®šä¹‰ 7.3.1** (æ–¯ä½©çº³å®šç† / Sperner's Theorem)
åœ¨ $n$ ä¸ªå…ƒç´ çš„å¹‚é›†ä¸­ï¼Œæœ€å¤§çš„åé“¾çš„å¤§å°ä¸º $\binom{n}{\lfloor n/2 \rfloor}$ã€‚

**å®šç† 7.3.1** (å„å°”å¤šä»€-æŸ¯-æ‹‰å¤šå®šç† / ErdÅ‘s-Ko-Rado Theorem)
å¯¹äº $k \leq n/2$ï¼Œåœ¨ $n$ ä¸ªå…ƒç´ çš„ $k$ å…ƒå­é›†ä¸­ï¼Œæœ€å¤§çš„ç›¸äº¤æ—çš„å¤§å°ä¸º $\binom{n-1}{k-1}$ã€‚

---

## 8. å½¢å¼åŒ–å®ç° / Formal Implementation

### 8.1 Lean 4 å®ç° / Lean 4 Implementation

```lean
-- äºŒé¡¹å¼ç³»æ•°
def binomial (n k : â„•) : â„• :=
  if k > n then 0
  else factorial n / (factorial k * factorial (n - k))

-- å¤šé‡ç»„åˆç³»æ•°
def multinomial (n : â„•) (ks : List â„•) : â„• :=
  if sum ks = n then factorial n / product (map factorial ks)
  else 0

-- æ–¯ç‰¹æ—æ•°
def stirlingSecond (n k : â„•) : â„• :=
  if k = 0 then if n = 0 then 1 else 0
  else if k > n then 0
  else stirlingSecond (n-1) (k-1) + k * stirlingSecond (n-1) k

-- æ–æ³¢é‚£å¥‘æ•°åˆ—
def fibonacci : â„• â†’ â„•
  | 0 => 0
  | 1 => 1
  | n + 2 => fibonacci (n + 1) + fibonacci n

-- å¡ç‰¹å…°æ•°
def catalan (n : â„•) : â„• :=
  binomial (2*n) n / (n + 1)

-- è´å°”æ•°
def bell (n : â„•) : â„• :=
  sum [stirlingSecond n k | k â† range (n + 1)]

-- ç”Ÿæˆå‡½æ•°
structure GeneratingFunction where
  coefficients : â„• â†’ â„
  radius : â„

def evalGF (f : GeneratingFunction) (x : â„) : â„ :=
  if abs x < f.radius then
    sum [f.coefficients n * x^n | n â† range infinity]
  else 0

-- æ–æ³¢é‚£å¥‘ç”Ÿæˆå‡½æ•°
def fibonacciGF : GeneratingFunction :=
  { coefficients := Î» n, fibonacci n
    radius := (sqrt 5 - 1) / 2 }

-- åˆ†æ‹†å‡½æ•°
def partition (n : â„•) : â„• :=
  if n = 0 then 1
  else sum [partition (n - k * (3*k - 1) // 2) * (-1)^(k+1) | k â† range (sqrt (2*n/3) + 1)]

-- åŠ æ³•èƒ½é‡
def additiveEnergy (A : Set â„¤) : â„• :=
  card {(a,b,c,d) : A Ã— A Ã— A Ã— A | a + b = c + d}

-- ä¹˜æ³•èƒ½é‡
def multiplicativeEnergy (A : Set â„•) : â„• :=
  card {(a,b,c,d) : A Ã— A Ã— A Ã— A | a * b = c * d}

-- æ‹‰å§†é½æ•°
def ramseyNumber (k l : â„•) : â„• :=
  min {n : â„• | âˆ€ (G : CompleteGraph n) (c : EdgeColoring G 2),
    âˆƒ (H : CompleteSubgraph G k), monochromatic H c âˆ¨
    âˆƒ (H : CompleteSubgraph G l), monochromatic H c}

-- ç»„åˆæ’ç­‰å¼
theorem binomial_theorem (x y : â„) (n : â„•) :
  (x + y)^n = sum [binomial n k * x^k * y^(n-k) | k â† range (n + 1)] :=
  by
  -- ä½¿ç”¨æ•°å­¦å½’çº³æ³•
  induction n with
  | zero => simp
  | succ n ih =>
    -- å±•å¼€äºŒé¡¹å¼
    sorry

-- èŒƒå¾·è’™å¾·æ’ç­‰å¼
theorem vandermonde_identity (m n k : â„•) :
  binomial (m + n) k = sum [binomial m i * binomial n (k - i) | i â† range (k + 1)] :=
  by
  -- ä½¿ç”¨ç”Ÿæˆå‡½æ•°
  sorry

-- æ¬§æ‹‰æ’ç­‰å¼
theorem euler_identity :
  product [1 - x^k | k â† range 1 infinity] =
  1 + sum [(-1)^n * x^(n * (3*n - 1) // 2) | n â† range infinity] +
  sum [(-1)^n * x^(n * (3*n + 1) // 2) | n â† range 1 infinity] :=
  by
  -- ä½¿ç”¨åˆ†æ‹†ç†è®º
  sorry

-- åŠ æ³•ç»„åˆå®šç†
theorem plunnecke_theorem (A B : Set â„¤) (K : â„) :
  card (A + B) â‰¤ K * card A â†’
  âˆ€ k : â„•, card (A + k â€¢ B) â‰¤ K^k * card A :=
  by
  -- ä½¿ç”¨åŠ æ³•ç»„åˆæ–¹æ³•
  sorry

-- æå€¼ç»„åˆå®šç†
theorem turan_theorem (n r : â„•) :
  extremalFunction n (completeGraph r) =
  (1 - 1/(r-1)) * n^2 / 2 + O(n) :=
  by
  -- ä½¿ç”¨æå€¼å›¾è®º
  sorry
```

### 8.2 Haskell å®ç° / Haskell Implementation

```haskell
-- äºŒé¡¹å¼ç³»æ•°
binomial :: Integer -> Integer -> Integer
binomial n k
  | k > n = 0
  | otherwise = factorial n `div` (factorial k * factorial (n - k))

-- å¤šé‡ç»„åˆç³»æ•°
multinomial :: Integer -> [Integer] -> Integer
multinomial n ks
  | sum ks == n = factorial n `div` product (map factorial ks)
  | otherwise = 0

-- æ–¯ç‰¹æ—æ•°
stirlingSecond :: Integer -> Integer -> Integer
stirlingSecond n k
  | k == 0 = if n == 0 then 1 else 0
  | k > n = 0
  | otherwise = stirlingSecond (n-1) (k-1) + k * stirlingSecond (n-1) k

-- æ–æ³¢é‚£å¥‘æ•°åˆ—
fibonacci :: Integer -> Integer
fibonacci 0 = 0
fibonacci 1 = 1
fibonacci n = fibonacci (n-1) + fibonacci (n-2)

-- å¡ç‰¹å…°æ•°
catalan :: Integer -> Integer
catalan n = binomial (2*n) n `div` (n + 1)

-- è´å°”æ•°
bell :: Integer -> Integer
bell n = sum [stirlingSecond n k | k <- [0..n]]

-- ç”Ÿæˆå‡½æ•°
data GeneratingFunction = GeneratingFunction
  { coefficients :: Integer -> Double
  , radius :: Double
  }

evalGF :: GeneratingFunction -> Double -> Double
evalGF f x
  | abs x < radius f = sum [coefficients f n * x^n | n <- [0..]]
  | otherwise = 0

-- æ–æ³¢é‚£å¥‘ç”Ÿæˆå‡½æ•°
fibonacciGF :: GeneratingFunction
fibonacciGF = GeneratingFunction
  { coefficients = fromIntegral . fibonacci
  , radius = (sqrt 5 - 1) / 2
  }

-- åˆ†æ‹†å‡½æ•°
partition :: Integer -> Integer
partition 0 = 1
partition n = sum [partition (n - k * (3*k - 1) `div` 2) * (-1)^(k+1) | k <- [1..floor (sqrt (2*fromIntegral n/3))]]

-- åŠ æ³•èƒ½é‡
additiveEnergy :: Set Integer -> Integer
additiveEnergy a =
  length [(a1, a2, a3, a4) | a1 <- elements a, a2 <- elements a,
                              a3 <- elements a, a4 <- elements a,
                              a1 + a2 == a3 + a4]

-- ä¹˜æ³•èƒ½é‡
multiplicativeEnergy :: Set Integer -> Integer
multiplicativeEnergy a =
  length [(a1, a2, a3, a4) | a1 <- elements a, a2 <- elements a,
                              a3 <- elements a, a4 <- elements a,
                              a1 * a2 == a3 * a4]

-- æ‹‰å§†é½æ•°
ramseyNumber :: Integer -> Integer -> Integer
ramseyNumber k l =
  minimum [n | n <- [1..],
    all (\g -> any (\h -> monochromatic h) (completeSubgraphs g k) ||
               any (\h -> monochromatic h) (completeSubgraphs g l))
         (completeGraphs n)]

-- ç»„åˆæ’ç­‰å¼
binomialTheorem :: Double -> Double -> Integer -> Double
binomialTheorem x y n =
  sum [fromIntegral (binomial n k) * x^k * y^(n-k) | k <- [0..n]]

vandermondeIdentity :: Integer -> Integer -> Integer -> Integer
vandermondeIdentity m n k =
  sum [binomial m i * binomial n (k - i) | i <- [0..k]]

eulerIdentity :: Double -> Double
eulerIdentity x =
  product [1 - x^k | k <- [1..]] ==
  1 + sum [(-1)^n * x^(n * (3*n - 1) `div` 2) | n <- [0..]] +
  sum [(-1)^n * x^(n * (3*n + 1) `div` 2) | n <- [1..]]

-- åŠ æ³•ç»„åˆå®šç†
plunneckeTheorem :: Set Integer -> Set Integer -> Double -> Integer -> Bool
plunneckeTheorem a b k n =
  card (additiveSet a b) <= k * card a ==>
  card (additiveSet a (multiplySet b n)) <= k^n * card a

-- æå€¼ç»„åˆå®šç†
turanTheorem :: Integer -> Integer -> Bool
turanTheorem n r =
  extremalFunction n (completeGraph r) ==
  (1 - 1/fromIntegral(r-1)) * fromIntegral n^2 / 2 + O(n)

-- å®šç†éªŒè¯
theorem_binomial :: Double -> Double -> Integer -> Bool
theorem_binomial x y n =
  (x + y)^n == binomialTheorem x y n

theorem_vandermonde :: Integer -> Integer -> Integer -> Bool
theorem_vandermonde m n k =
  binomial (m + n) k == vandermondeIdentity m n k

theorem_euler :: Double -> Bool
theorem_euler x =
  abs x < 1 ==> eulerIdentity x

-- å®ä¾‹ï¼šç»„åˆå‡½æ•°
instance Num Integer where
  (+) = (+)
  (-) = (-)
  (*) = (*)
  abs = abs
  signum = signum
  fromInteger = id

-- å®ä¾‹ï¼šç”Ÿæˆå‡½æ•°
instance Num GeneratingFunction where
  (+) = addGF
  (-) = subGF
  (*) = mulGF
  abs = absGF
  signum = signumGF
  fromInteger = fromIntegerGF
```

### 8.3 é‡è¦å®šç†æ€»ç»“ / Summary of Important Theorems

**å®šç† 8.3.1** (äºŒé¡¹å¼å®šç† / Binomial Theorem)
$$(x+y)^n = \sum_{k=0}^n \binom{n}{k} x^k y^{n-k}$$

**å®šç† 8.3.2** (æ¬§æ‹‰æ’ç­‰å¼ / Euler's Identity)
$$\prod_{k=1}^{\infty} (1-x^k) = \sum_{n=-\infty}^{\infty} (-1)^n x^{n(3n-1)/2}$$

**å®šç† 8.3.3** (æ™®æ‹‰çº³å®šç† / PlÃ¼nnecke's Theorem)
å¦‚æœ $|A + B| \leq K|A|$ï¼Œåˆ™ $|A + kB| \leq K^k|A|$ã€‚

**å®šç† 8.3.4** (å›¾å…°å®šç† / TurÃ¡n's Theorem)
$$ex(n,K_r) = \left(1 - \frac{1}{r-1}\right) \frac{n^2}{2} + O(n)$$

---

## å‚è€ƒæ–‡çŒ® / References

1. Stanley, R. P. (2011). *Enumerative Combinatorics* (2nd ed.). Cambridge University Press.
2. Andrews, G. E. (1998). *The Theory of Partitions*. Cambridge University Press.
3. Tao, T., & Vu, V. (2006). *Additive Combinatorics*. Cambridge University Press.
4. BollobÃ¡s, B. (2004). *Extremal Graph Theory*. Dover Publications.

---

**ç›¸å…³é“¾æ¥** / Related Links:

- [åˆç­‰æ•°è®º](./01-åˆç­‰æ•°è®º.md)
- [ä»£æ•°æ•°è®º](./02-ä»£æ•°æ•°è®º.md)
- [è§£ææ•°è®º](./03-è§£ææ•°è®º.md)
- [è®¡ç®—æ•°è®º](./05-è®¡ç®—æ•°è®º.md)
