# FormalMath项目MSC编码标注系统设计文档

**文档编号**: DESIGN.005  
**创建日期**: 2026年2月2日  
**版本**: v1.0  
**状态**: 设计阶段  
**关联任务**: T1.4 MSC编码标注系统设计

---

## 📋 文档概述

本文档设计FormalMath项目的MSC（Mathematics Subject Classification）2020编码标注系统，旨在为500+文档标注MSC分类编码，建立编码库与标注规范，支持编码导航与统计，并与《00-全面分析与改进方案-2026年2月2日.md》中国际标准对齐要求一致。

**设计目标**:

- 建立MSC2020编码库（主要及子分类）
- 制定标注规范与文档元数据格式
- 设计标注工具与流程
- 设计编码导航与统计报告

**参考标准**:

- AMS MSC2020: https://www.ams.org/msc/
- `00-全面分析与改进方案-2026年2月2日.md` 第1.2.3节、第5.4.1节

---

## 🎯 一、MSC编码库建立

### 1.1 编码范围

- **主分类**: MSC2020 两位数分类（00–97），如 00-XX（一般）、03-XX（数理逻辑）、11-XX（数论）、20-XX（群论）等。
- **子分类**: 与项目内容强相关的三位数/四位数子类（如 20Axx 群论基础、26Axx 一元实函数）。
- **交叉分类**: 允许单文档标注多个编码（主编码 + 次要编码），用主编码排序与导航。

### 1.2 项目重点编码映射（与改进方案对齐）

| MSC分类 | 项目对应内容 | 标注优先级 |
|---------|--------------|------------|
| 00-XX（一般） | 01-基础数学 | 高 |
| 03-XX（逻辑） | 07-逻辑学 | 高 |
| 11-XX（数论） | 06-数论 | 高 |
| 12-XX（域论） | 02-代数结构/域论 | 高 |
| 13-XX（交换代数） | 02-代数结构/环论 | 高 |
| 14-XX（代数几何） | 13-代数几何 | 高 |
| 18-XX（范畴论） | 02-代数结构/范畴论 | 高 |
| 20-XX（群论） | 02-代数结构/群论 | 高 |
| 26-XX（实函数） | 03-分析学/01-实分析 | 高 |
| 30-XX（复函数） | 03-分析学/02-复分析 | 高 |
| 46-XX（泛函分析） | 03-分析学/03-泛函分析 | 高 |
| 51-XX（几何） | 04-几何学 | 高 |
| 54-XX（一般拓扑） | 05-拓扑学/01-点集拓扑 | 高 |
| 55-XX（代数拓扑） | 05-拓扑学/02-代数拓扑 | 高 |
| 57-XX（流形） | 14-微分几何等 | 高 |

### 1.3 编码库存储

- **主表**: 建议维护 `project/msc/msc2020-subset.yaml`（或 JSON），包含项目所用编码及与文档路径的映射关系（或由文档 Front Matter 反推）。
- **更新机制**: 跟踪 AMS MSC 更新说明，每年核查一次；版本号与更新日期记录在编码库头部。

---

## 📐 二、标注规范制定

### 2.1 文档元数据格式

在 Markdown 文档的 Front Matter 中增加 MSC 字段，例如：

```yaml
---
title: 群的基本概念
msc_primary: "20A05"    # 主编码（必填，用于排序与导航）
msc_secondary:        # 次要编码（可选，多值）
  - "20A99"
  - "08A99"
---
```

- **msc_primary**: 主编码，唯一，用于默认排序与「按MSC浏览」。
- **msc_secondary**: 可选列表，用于交叉分类与检索。

### 2.2 编码粒度

- **概念/定理文档**: 至少一个主编码；可多个次要编码。
- **学习路径/综述**: 可仅用两位数主类（如 20-XX）或多个主类。
- **应用/跨分支**: 主编码取核心分支，次要编码覆盖应用分支。

### 2.3 标注原则

- 以内容为准：编码反映文档主题，而非所在目录。
- 主编码选最具体且覆盖主内容的子类；次要编码用于交叉与检索。
- 不确定时选两位数主类，避免过度细化导致错误。

---

## 🔧 三、标注工具设计

### 3.1 半自动标注流程

1. **批量扫描**: 脚本扫描项目内目标 Markdown 文件（concept、docs、数学家理念等），提取路径与现有 Front Matter。
2. **建议编码**: 根据目录路径、标题、关键词与「分支–MSC」映射表，为无 msc_primary 的文档生成建议编码（可输出为 CSV/表格）。
3. **人工确认/修正**: 维护者审核建议编码，修正后写回 Front Matter 或提交到集中表。
4. **校验**: 脚本检查 msc_primary 是否在项目编码库中、格式是否正确。

### 3.2 校验脚本功能

- 检查 Front Matter 中 msc_primary 是否存在且属于允许的编码集。
- 检查 msc_secondary 中每个编码是否合法。
- 输出：未标注列表、错误编码列表、按编码统计的文档数。

### 3.3 与现有工具集成

- 与 `tools/` 下格式化、检查脚本集成：在「文档格式检查」中增加 MSC 字段存在性及合法性检查。
- 可选：提供 VS Code / Cursor 片段或前端表单，便于人工录入主/次要编码。

---

## 🧭 四、编码导航系统设计

### 4.1 按MSC浏览

- **树形导航**: 按 00-XX → 子类（如 20Axx）层级展示，每节点下列出该编码下的文档标题与链接。
- **列表导航**: 按主编码排序的文档列表，支持按主编码、次要编码筛选。
- **索引页**: 生成 `docs/00-MSC索引.md`（或 project 下），包含「编码 → 文档路径」索引，可自动由脚本从 Front Matter 生成。

### 4.2 编码检索

- 支持按编码（完整或前缀）检索文档。
- 支持「含该编码的所有文档」列表，便于按主题浏览与审阅。

### 4.3 编码关联图（可选）

- 以编码为节点，以「共现于同一文档」或「文档引用关系」为边，生成编码共现图，用于发现跨类主题与资源分配。

### 4.4 编码统计报告

- 按主编码统计文档数，识别覆盖不足的编码。
- 按分支（目录）统计已标注比例，推进 500+ 文档标注完成率。
- 定期输出报告（如 `project/msc/msc-stats-YYYYMM.md`），供项目复盘与优先级调整。

---

## ✅ 五、交付物清单（T1.4）

| 子任务 | 交付物 | 状态 |
|--------|--------|------|
| MSC编码库建立 | 本设计文档 §1 + project/msc 编码子集文件 | ✅ 设计完成 |
| 标注规范制定 | 本设计文档 §2 | ✅ |
| 标注工具设计 | 本设计文档 §3 | ✅ |
| 导航系统设计 | 本设计文档 §4 | ✅ |

*注：编码库具体 YAML/JSON 文件与脚本实现属 T3.3 实施阶段。*

---

## 🔗 六、与其他任务的关联

- **T3.3 MSC编码标注实施**: 按本规范与工具对 500+ 文档进行标注，并维护编码索引与统计。
- **T1.3 跨分支链接**: 概念节点可带 MSC 编码，链接导航可按「分支对 + MSC」筛选。
- **T3.2 课程依赖关系**: 依赖关系可与 MSC 结合，用于「按学科分类的依赖图」。

---

**文档版本**: v1.0  
**最后更新**: 2026年2月2日
