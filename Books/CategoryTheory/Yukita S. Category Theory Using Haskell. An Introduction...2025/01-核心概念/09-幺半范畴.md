# 幺半范畴 (Monoidal Categories)

**创建日期**: 2025年12月11日
**来源**: Category Theory Using Haskell, Chapter 8
**主题编号**: CT.YUKITA.01.09

---

## 📑 目录

- [幺半范畴 (Monoidal Categories)](#幺半范畴-monoidal-categories)
  - [📑 目录](#-目录)
  - [一、幺半范畴的定义](#一幺半范畴的定义)
    - [1.1 幺半范畴的数学定义](#11-幺半范畴的数学定义)
    - [1.2 结合子](#12-结合子)
    - [1.3 单位子](#13-单位子)
  - [二、张量积](#二张量积)
    - [2.1 张量积的定义](#21-张量积的定义)
    - [2.2 张量积的例子](#22-张量积的例子)
  - [三、幺半函子](#三幺半函子)
    - [3.1 幺半函子的定义](#31-幺半函子的定义)
    - [3.2 强幺半函子](#32-强幺半函子)
    - [3.3 幺半自然变换](#33-幺半自然变换)
  - [四、Haskell中的幺半范畴](#四haskell中的幺半范畴)
    - [4.1 积类型作为张量积](#41-积类型作为张量积)
    - [4.2 函数类型作为张量积](#42-函数类型作为张量积)
    - [4.3 Applicative作为幺半函子](#43-applicative作为幺半函子)
    - [4.4 Monad作为幺半函子](#44-monad作为幺半函子)

---

## 一、幺半范畴的定义

### 1.1 幺半范畴的数学定义

**幺半范畴 (Monoidal Category)** $(\mathcal{C}, \otimes, I, \alpha, \lambda, \rho)$ 由以下数据组成：

1. **范畴** $\mathcal{C}$
2. **张量积函子** $\otimes: \mathcal{C} \times \mathcal{C} \to \mathcal{C}$
3. **单位对象** $I \in \mathcal{C}$
4. **结合子** $\alpha_{A,B,C}: (A \otimes B) \otimes C \to A \otimes (B \otimes C)$（自然同构）
5. **左单位子** $\lambda_A: I \otimes A \to A$（自然同构）
6. **右单位子** $\rho_A: A \otimes I \to A$（自然同构）

**满足的规则**：

- **五边形恒等式**（Mac Lane五边形）
- **三角形恒等式**（单位子与结合子的关系）

### 1.2 结合子

**结合子 (Associator)** $\alpha$ 是自然同构：

$$\alpha_{A,B,C}: (A \otimes B) \otimes C \cong A \otimes (B \otimes C)$$

**性质**：

- 对任意对象 $A, B, C, D$，满足五边形恒等式
- 保证张量积的结合性（在同构意义下）

### 1.3 单位子

**左单位子 (Left Unitor)** $\lambda$ 和 **右单位子 (Right Unitor)** $\rho$ 是自然同构：

- $\lambda_A: I \otimes A \cong A$
- $\rho_A: A \otimes I \cong A$

**性质**：

- 与结合子满足三角形恒等式
- 保证单位对象的单位性（在同构意义下）

---

## 二、张量积

### 2.1 张量积的定义

**张量积 (Tensor Product)** $\otimes$ 是二元函子：

$$\otimes: \mathcal{C} \times \mathcal{C} \to \mathcal{C}$$

**性质**：

- 对对象：$(A, B) \mapsto A \otimes B$
- 对映射：$(f, g) \mapsto f \otimes g$
- 满足函子定律

### 2.2 张量积的例子

**集合范畴**：

- 张量积：笛卡尔积 $\times$
- 单位对象：单元素集合 $\{*\}$

**向量空间范畴**：

- 张量积：向量空间的张量积
- 单位对象：基域 $k$

**Hask范畴**：

- 张量积：积类型 `(,)` 或函数类型 `(->)`
- 单位对象：`()` 或 `Void`

---

## 三、幺半函子

### 3.1 幺半函子的定义

**幺半函子 (Monoidal Functor)** $(F, \mu, \epsilon)$ 由以下数据组成：

1. **函子** $F: \mathcal{C} \to \mathcal{D}$
2. **乘性映射** $\mu_{A,B}: F(A) \otimes F(B) \to F(A \otimes B)$（自然变换）
3. **单位映射** $\epsilon: I_{\mathcal{D}} \to F(I_{\mathcal{C}})$

**满足的条件**：

- **结合性**：与结合子兼容
- **单位性**：与单位子兼容

### 3.2 强幺半函子

**强幺半函子 (Strong Monoidal Functor)**：如果 $\mu$ 和 $\epsilon$ 都是同构，则 $F$ 是强幺半函子。

**性质**：

- 保持张量积结构（在同构意义下）
- 保持单位对象（在同构意义下）

### 3.3 幺半自然变换

**幺半自然变换 (Monoidal Natural Transformation)**：自然变换 $\eta: F \Rightarrow G$ 是幺半的，如果它与乘性映射和单位映射兼容。

---

## 四、Haskell中的幺半范畴

### 4.1 积类型作为张量积

**积类型** `(,)` 作为张量积：

```haskell
-- 张量积：积类型
(,) :: * -> * -> *

-- 单位对象：()
unit :: ()

-- 结合子：同构函数
assoc :: ((a, b), c) -> (a, (b, c))
assoc ((a, b), c) = (a, (b, c))

assoc' :: (a, (b, c)) -> ((a, b), c)
assoc' (a, (b, c)) = ((a, b), c)

-- 左单位子
leftUnit :: ((), a) -> a
leftUnit ((), a) = a

leftUnit' :: a -> ((), a)
leftUnit' a = ((), a)

-- 右单位子
rightUnit :: (a, ()) -> a
rightUnit (a, ()) = a

rightUnit' :: a -> (a, ())
rightUnit' a = (a, ())
```

**数学对应**：

- `(,)` 对应张量积 $\otimes$
- `()` 对应单位对象 $I$
- `assoc` 对应结合子 $\alpha$

### 4.2 函数类型作为张量积

**函数类型** `(->)` 作为张量积（在反变意义下）：

```haskell
-- 函数类型作为张量积
(->) :: * -> * -> *

-- 单位对象：Void（在某些情况下）
-- 或者使用其他构造
```

**数学对应**：

- `(->)` 对应内部Hom函子
- 在某些情况下可以看作张量积

### 4.3 Applicative作为幺半函子

**Applicative函子**是幺半函子：

```haskell
class Functor f => Applicative f where
    pure :: a -> f a  -- 单位映射
    (<*>) :: f (a -> b) -> f a -> f b  -- 应用

-- 乘性映射
liftA2 :: Applicative f => (a -> b -> c) -> f a -> f b -> f c
liftA2 f x y = f <$> x <*> y
```

**数学对应**：

- `pure` 对应单位映射 $\epsilon$
- `<*>` 对应乘性映射 $\mu$
- `Applicative` 对应幺半函子

### 4.4 Monad作为幺半函子

**Monad**也是幺半函子（在Kleisli范畴中）：

```haskell
class Applicative m => Monad m where
    return :: a -> m a
    (>>=) :: m a -> (a -> m b) -> m b

-- Kleisli复合
(>=>) :: Monad m => (a -> m b) -> (b -> m c) -> (a -> m c)
f >=> g = \x -> f x >>= g
```

**数学对应**：

- `return` 对应单位
- `(>>=)` 对应乘性
- `Monad` 对应Kleisli范畴中的幺半函子

---

**最后更新**: 2025年12月11日
**参考章节**: Chapter 8
