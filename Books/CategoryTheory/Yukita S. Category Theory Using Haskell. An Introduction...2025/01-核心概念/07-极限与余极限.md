# 极限与余极限 (Limits and Colimits)

**创建日期**: 2025年12月11日
**来源**: Category Theory Using Haskell, Chapter 3-4
**主题编号**: CT.YUKITA.01.07

---

## 📑 目录

- [极限与余极限 (Limits and Colimits)](#极限与余极限-limits-and-colimits)
  - [📑 目录](#-目录)
  - [一、极限的定义](#一极限的定义)
    - [1.1 锥的定义](#11-锥的定义)
    - [1.2 极限的定义](#12-极限的定义)
    - [1.3 特殊极限](#13-特殊极限)
  - [二、余极限的定义](#二余极限的定义)
    - [2.1 余锥的定义](#21-余锥的定义)
    - [2.2 余极限的定义](#22-余极限的定义)
    - [2.3 特殊余极限](#23-特殊余极限)
  - [三、Haskell中的极限与余极限](#三haskell中的极限与余极限)
    - [3.1 积类型](#31-积类型)
    - [3.2 余积类型](#32-余积类型)
    - [3.3 终对象与始对象](#33-终对象与始对象)
  - [四、极限与函子](#四极限与函子)
    - [4.1 函子保持极限](#41-函子保持极限)
    - [4.2 Hom函子与极限](#42-hom函子与极限)
    - [4.3 伴随保持极限](#43-伴随保持极限)

---

## 一、极限的定义

### 1.1 锥的定义

**锥 (Cone)** 是图 $D: \mathcal{J} \to \mathcal{C}$ 上的数据结构：

- **顶点**: 对象 $C \in \mathcal{C}$
- **边**: 对每个对象 $j \in \mathcal{J}$，映射 $c_j: C \to D(j)$
- **条件**: 对每个映射 $f: j \to k$ 在 $\mathcal{J}$ 中，$D(f) \circ c_j = c_k$

**数学表示**：

- 锥 $(C, \{c_j\})$ 使得对任意 $f: j \to k$，有 $D(f) \circ c_j = c_k$

### 1.2 极限的定义

**极限 (Limit)** 是图的泛锥：

- **锥**: $(L, \{p_j: L \to D(j)\})$
- **泛性质**: 对任意其他锥 $(C, \{c_j\})$，存在唯一的映射 $u: C \to L$ 使得 $p_j \circ u = c_j$ 对所有 $j$

**数学表示**：

- 极限 $\lim D$ 是满足泛性质的锥
- 对任意锥 $(C, \{c_j\})$，存在唯一的 $u: C \to \lim D$ 使得图交换

### 1.3 特殊极限

**积 (Product)**: 离散图的极限

- 对对象 $A, B$，积 $A \times B$ 是离散图 $\{A, B\}$ 的极限
- 有投影 $p_1: A \times B \to A$ 和 $p_2: A \times B \to B$

**等化子 (Equalizer)**: 平行映射对的极限

- 对映射 $f, g: A \to B$，等化子 $E$ 是满足 $f \circ e = g \circ e$ 的泛对象

**拉回 (Pullback)**: 两个映射的交汇的极限

- 对映射 $f: A \to C$ 和 $g: B \to C$，拉回 $A \times_C B$ 是满足泛性质的泛对象

---

## 二、余极限的定义

### 2.1 余锥的定义

**余锥 (Cocone)** 是图 $D: \mathcal{J} \to \mathcal{C}$ 上的数据结构：

- **顶点**: 对象 $C \in \mathcal{C}$
- **边**: 对每个对象 $j \in \mathcal{J}$，映射 $c_j: D(j) \to C$
- **条件**: 对每个映射 $f: j \to k$ 在 $\mathcal{J}$ 中，$c_j = c_k \circ D(f)$

**数学表示**：

- 余锥 $(C, \{c_j\})$ 使得对任意 $f: j \to k$，有 $c_j = c_k \circ D(f)$

### 2.2 余极限的定义

**余极限 (Colimit)** 是图的泛余锥：

- **余锥**: $(L, \{i_j: D(j) \to L\})$
- **泛性质**: 对任意其他余锥 $(C, \{c_j\})$，存在唯一的映射 $u: L \to C$ 使得 $u \circ i_j = c_j$ 对所有 $j$

**数学表示**：

- 余极限 $\text{colim } D$ 是满足泛性质的余锥
- 对任意余锥 $(C, \{c_j\})$，存在唯一的 $u: \text{colim } D \to C$ 使得图交换

### 2.3 特殊余极限

**余积 (Coproduct)**: 离散图的余极限

- 对对象 $A, B$，余积 $A + B$ 是离散图 $\{A, B\}$ 的余极限
- 有包含 $i_1: A \to A + B$ 和 $i_2: B \to A + B$

**余等化子 (Coequalizer)**: 平行映射对的余极限

- 对映射 $f, g: A \to B$，余等化子 $Q$ 是满足 $q \circ f = q \circ g$ 的泛对象

**推出 (Pushout)**: 两个映射的汇合的余极限

- 对映射 $f: C \to A$ 和 $g: C \to B$，推出 $A +_C B$ 是满足泛性质的泛对象

---

## 三、Haskell中的极限与余极限

### 3.1 积类型

**积类型** `(A, B)` 对应范畴论中的积：

```haskell
-- 投影函数
fst :: (a, b) -> a
fst (x, y) = x

snd :: (a, b) -> b
snd (x, y) = y

-- 泛性质：对任意函数 f :: c -> a, g :: c -> b
-- 存在唯一的 h :: c -> (a, b) 使得 fst . h = f 且 snd . h = g
pair :: (c -> a) -> (c -> b) -> c -> (a, b)
pair f g x = (f x, g x)
```

**数学对应**：

- `(A, B)` 对应积 $A \times B$
- `fst` 和 `snd` 对应投影 $p_1$ 和 $p_2$
- `pair` 对应泛性质的唯一映射

### 3.2 余积类型

**余积类型** `Either A B` 对应范畴论中的余积：

```haskell
-- 包含函数
Left :: a -> Either a b
Left = Left

Right :: b -> Either a b
Right = Right

-- 泛性质：对任意函数 f :: a -> c, g :: b -> c
-- 存在唯一的 h :: Either a b -> c 使得 h . Left = f 且 h . Right = g
either :: (a -> c) -> (b -> c) -> Either a b -> c
either f _ (Left x) = f x
either _ g (Right y) = g y
```

**数学对应**：

- `Either A B` 对应余积 $A + B$
- `Left` 和 `Right` 对应包含 $i_1$ 和 $i_2$
- `either` 对应泛性质的唯一映射

### 3.3 终对象与始对象

**终对象** `()` 对应范畴论中的终对象：

```haskell
-- 对任意类型A，存在唯一的映射 A -> ()
unit :: a -> ()
unit _ = ()
```

**始对象** `Void` 对应范畴论中的始对象：

```haskell
-- 对任意类型A，存在唯一的映射 Void -> A
absurd :: Void -> a
absurd x = case x of {}  -- 无构造函数，因此这个模式匹配是完整的
```

**数学对应**：

- `()` 对应终对象 $1$
- `Void` 对应始对象 $0$

---

## 四、极限与函子

### 4.1 函子保持极限

**定理**：如果函子 $F: \mathcal{C} \to \mathcal{D}$ 保持极限，则对图的极限 $\lim D$，有 $F(\lim D) \cong \lim (F \circ D)$。

**Haskell对应**：

- 如果 `Functor f` 保持极限，则 `f (A, B) ≅ (f A, f B)`
- 但一般函子不保持积，需要额外条件

### 4.2 Hom函子与极限

**定理**：Hom函子 $\text{Hom}(A, -)$ 保持极限。

**数学表述**：

- $\text{Hom}(A, \lim D) \cong \lim \text{Hom}(A, D(-))$

**Haskell对应**：

- `(A -> (B, C)) ≅ ((A -> B), (A -> C))`
- 这对应Curry-Howard对应

### 4.3 伴随保持极限

**定理**：右伴随函子保持极限。

**数学表述**：

- 如果 $F \dashv G$，则 $G$ 保持极限

**Haskell对应**：

- 如果 `F` 和 `G` 构成伴随，则 `G` 保持积、等化子等

---

**最后更新**: 2025年12月11日
**参考章节**: Chapter 3-4
