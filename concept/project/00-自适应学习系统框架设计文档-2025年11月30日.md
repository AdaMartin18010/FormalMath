# FormalMathé¡¹ç›®è‡ªé€‚åº”å­¦ä¹ ç³»ç»Ÿæ¡†æ¶è®¾è®¡æ–‡æ¡£

**æ–‡æ¡£ç¼–å·**: DESIGN.002
**åˆ›å»ºæ—¥æœŸ**: 2025å¹´11æœˆ30æ—¥
**ç‰ˆæœ¬**: v1.0
**çŠ¶æ€**: è®¾è®¡é˜¶æ®µ

---

## ğŸ“‹ æ–‡æ¡£æ¦‚è¿°

æœ¬æ–‡æ¡£è®¾è®¡FormalMathé¡¹ç›®çš„è‡ªé€‚åº”å­¦ä¹ ç³»ç»Ÿæ¡†æ¶ï¼Œæ—¨åœ¨åŸºäºè®¤çŸ¥è¯Šæ–­ç»“æœï¼Œä¸ºä¸åŒå­¦ä¹ è€…å®šåˆ¶ä¸ªæ€§åŒ–å­¦ä¹ è·¯å¾„ï¼Œå®æ—¶è°ƒæ•´å­¦ä¹ å†…å®¹å’Œéš¾åº¦ï¼Œæä¾›ä¸ªæ€§åŒ–çš„å­¦ä¹ ä½“éªŒã€‚

**è®¾è®¡ç›®æ ‡**:

- å®ç°ä¸ªæ€§åŒ–å­¦ä¹ è·¯å¾„è®¾è®¡
- æä¾›æ™ºèƒ½å†…å®¹æ¨è
- å®æ—¶è°ƒæ•´å­¦ä¹ éš¾åº¦
- ä¼˜åŒ–å­¦ä¹ æ•ˆæœ

**å‚è€ƒæ ‡å‡†**:

- è‡ªé€‚åº”å­¦ä¹ ç³»ç»Ÿæ ‡å‡†([zh.wikipedia.org](https://zh.wikipedia.org/wiki/%E8%87%AA%E9%80%82%E5%BA%94%E5%AD%A6%E4%B9%A0))
- ä¸ªæ€§åŒ–æ¨èç®—æ³•
- å­¦ä¹ è·¯å¾„ä¼˜åŒ–æ–¹æ³•

---

## ğŸ¯ ä¸€ã€ç³»ç»Ÿæ¶æ„è®¾è®¡ (ç¼–å·: DESIGN.002.01)

### 1.1 æ•´ä½“æ¶æ„

```text
è‡ªé€‚åº”å­¦ä¹ ç³»ç»Ÿ
â”œâ”€â”€ å­¦ä¹ è€…ç‰¹å¾åˆ†ææ¨¡å—
â”‚   â”œâ”€â”€ è®¤çŸ¥é£æ ¼åˆ†æ
â”‚   â”œâ”€â”€ èƒ½åŠ›æ°´å¹³åˆ†æ
â”‚   â”œâ”€â”€ å­¦ä¹ åå¥½åˆ†æ
â”‚   â””â”€â”€ å­¦ä¹ å†å²åˆ†æ
â”œâ”€â”€ ä¸ªæ€§åŒ–å­¦ä¹ è·¯å¾„ç”Ÿæˆæ¨¡å—
â”‚   â”œâ”€â”€ è·¯å¾„è§„åˆ’ç®—æ³•
â”‚   â”œâ”€â”€ è·¯å¾„ä¼˜åŒ–ç®—æ³•
â”‚   â””â”€â”€ è·¯å¾„è°ƒæ•´æœºåˆ¶
â”œâ”€â”€ å­¦ä¹ å†…å®¹æ¨èæ¨¡å—
â”‚   â”œâ”€â”€ å†…å®¹ç›¸ä¼¼åº¦è®¡ç®—
â”‚   â”œâ”€â”€ æ¨èç®—æ³•
â”‚   â””â”€â”€ æ¨èç»“æœæ’åº
â”œâ”€â”€ å­¦ä¹ éš¾åº¦è°ƒæ•´æ¨¡å—
â”‚   â”œâ”€â”€ éš¾åº¦è¯„ä¼°ç®—æ³•
â”‚   â”œâ”€â”€ éš¾åº¦è°ƒæ•´ç­–ç•¥
â”‚   â””â”€â”€ éš¾åº¦åé¦ˆæœºåˆ¶
â””â”€â”€ å­¦ä¹ åé¦ˆç³»ç»Ÿæ¨¡å—
    â”œâ”€â”€ å®æ—¶åé¦ˆç”Ÿæˆ
    â”œâ”€â”€ è¿›åº¦è·Ÿè¸ª
    â””â”€â”€ å­¦ä¹ å»ºè®®ç”Ÿæˆ
```

### 1.2 æ ¸å¿ƒæ¨¡å—è®¾è®¡

#### æ¨¡å—1: å­¦ä¹ è€…ç‰¹å¾åˆ†ææ¨¡å—

**åŠŸèƒ½**: åˆ†æå­¦ä¹ è€…çš„ç‰¹å¾ï¼Œä¸ºä¸ªæ€§åŒ–å­¦ä¹ æä¾›åŸºç¡€

**è®¾è®¡è¦ç‚¹**:

- å¤šç»´åº¦ç‰¹å¾åˆ†æ
- åŠ¨æ€ç‰¹å¾æ›´æ–°
- ç‰¹å¾ç›¸ä¼¼åº¦è®¡ç®—

**æ•°æ®ç»“æ„**:

```python
class LearnerProfile:
    learner_id: str
    cognitive_style: str  # visual, auditory, kinesthetic, reading
    ability_level: Dict[int, float]  # L0-L3èƒ½åŠ›æ°´å¹³
    learning_preferences: Dict[str, Any]
    learning_history: List[LearningRecord]
    performance_data: Dict[str, Any]
```

#### æ¨¡å—2: ä¸ªæ€§åŒ–å­¦ä¹ è·¯å¾„ç”Ÿæˆæ¨¡å—

**åŠŸèƒ½**: ä¸ºå­¦ä¹ è€…ç”Ÿæˆä¸ªæ€§åŒ–çš„å­¦ä¹ è·¯å¾„

**è®¾è®¡è¦ç‚¹**:

- è€ƒè™‘å­¦ä¹ è€…ç‰¹å¾
- è€ƒè™‘çŸ¥è¯†ä¾èµ–å…³ç³»
- è€ƒè™‘å­¦ä¹ ç›®æ ‡

**æ•°æ®ç»“æ„**:

```python
class LearningPath:
    learner_id: str
    path_id: str
    concepts: List[Concept]
    order: List[int]  # å­¦ä¹ é¡ºåº
    estimated_time: Dict[Concept, int]  # é¢„è®¡å­¦ä¹ æ—¶é—´
    difficulty_sequence: List[float]  # éš¾åº¦åºåˆ—
```

#### æ¨¡å—3: å­¦ä¹ å†…å®¹æ¨èæ¨¡å—

**åŠŸèƒ½**: ä¸ºå­¦ä¹ è€…æ¨èåˆé€‚çš„å­¦ä¹ å†…å®¹

**è®¾è®¡è¦ç‚¹**:

- åŸºäºå†…å®¹ç›¸ä¼¼åº¦
- åŸºäºååŒè¿‡æ»¤
- åŸºäºæ·±åº¦å­¦ä¹ 

**æ•°æ®ç»“æ„**:

```python
class ContentRecommendation:
    learner_id: str
    recommended_contents: List[Content]
    recommendation_scores: Dict[Content, float]
    recommendation_reasons: Dict[Content, str]
```

#### æ¨¡å—4: å­¦ä¹ éš¾åº¦è°ƒæ•´æ¨¡å—

**åŠŸèƒ½**: æ ¹æ®å­¦ä¹ æ•ˆæœå®æ—¶è°ƒæ•´å­¦ä¹ éš¾åº¦

**è®¾è®¡è¦ç‚¹**:

- åŠ¨æ€éš¾åº¦è¯„ä¼°
- è‡ªé€‚åº”è°ƒæ•´ç­–ç•¥
- éš¾åº¦åé¦ˆæœºåˆ¶

**æ•°æ®ç»“æ„**:

```python
class DifficultyAdjustment:
    learner_id: str
    current_difficulty: float
    target_difficulty: float
    adjustment_strategy: str
    adjustment_history: List[AdjustmentRecord]
```

---

## ğŸ§  äºŒã€å­¦ä¹ è€…ç‰¹å¾åˆ†æè®¾è®¡ (ç¼–å·: DESIGN.002.02)

### 2.1 ç‰¹å¾ç»´åº¦

#### ç»´åº¦1: è®¤çŸ¥é£æ ¼

**ç±»å‹**:

- **è§†è§‰å‹**: åå¥½å›¾è¡¨ã€å›¾åƒã€è§†é¢‘
- **å¬è§‰å‹**: åå¥½éŸ³é¢‘ã€è®²è§£ã€è®¨è®º
- **åŠ¨è§‰å‹**: åå¥½å®è·µã€æ“ä½œã€ä½“éªŒ
- **é˜…è¯»å‹**: åå¥½æ–‡å­—ã€é˜…è¯»ã€ç¬”è®°

**åˆ†ææ–¹æ³•**:

```python
def analyze_cognitive_style(learning_history, preferences):
    """åˆ†æè®¤çŸ¥é£æ ¼"""
    visual_score = calculate_visual_score(learning_history)
    auditory_score = calculate_auditory_score(learning_history)
    kinesthetic_score = calculate_kinesthetic_score(learning_history)
    reading_score = calculate_reading_score(learning_history)

    scores = {
        'visual': visual_score,
        'auditory': auditory_score,
        'kinesthetic': kinesthetic_score,
        'reading': reading_score
    }

    return max(scores, key=scores.get)
```

#### ç»´åº¦2: èƒ½åŠ›æ°´å¹³

**å±‚æ¬¡**:

- **L0**: åŸºç¡€å±‚èƒ½åŠ›
- **L1**: ä¸­çº§å±‚èƒ½åŠ›
- **L2**: é«˜çº§å±‚èƒ½åŠ›
- **L3**: ç ”ç©¶å±‚èƒ½åŠ›

**åˆ†ææ–¹æ³•**:

```python
def analyze_ability_level(knowledge_state, test_results):
    """åˆ†æèƒ½åŠ›æ°´å¹³"""
    ability_level = {}
    for level in [0, 1, 2, 3]:
        level_concepts = get_level_concepts(level)
        level_scores = [
            knowledge_state[concept]
            for concept in level_concepts
        ]
        ability_level[level] = sum(level_scores) / len(level_scores)

    return ability_level
```

#### ç»´åº¦3: å­¦ä¹ åå¥½

**åå¥½ç±»å‹**:

- **å†…å®¹å½¢å¼**: æ–‡æœ¬ã€å›¾åƒã€è§†é¢‘ã€äº¤äº’å¼
- **å­¦ä¹ æ—¶é—´**: æ—©æ™¨ã€ä¸‹åˆã€æ™šä¸Š
- **å­¦ä¹ æ–¹å¼**: ç‹¬ç«‹å­¦ä¹ ã€åˆä½œå­¦ä¹ ã€æŒ‡å¯¼å­¦ä¹ 
- **å­¦ä¹ èŠ‚å¥**: å¿«é€Ÿã€ä¸­ç­‰ã€æ…¢é€Ÿ

**åˆ†ææ–¹æ³•**:

```python
def analyze_learning_preferences(learning_history, survey_data):
    """åˆ†æå­¦ä¹ åå¥½"""
    preferences = {
        'content_form': analyze_content_form_preference(learning_history),
        'learning_time': analyze_learning_time_preference(learning_history),
        'learning_style': analyze_learning_style_preference(learning_history),
        'learning_pace': analyze_learning_pace_preference(learning_history)
    }

    return preferences
```

### 2.2 ç‰¹å¾æ›´æ–°æœºåˆ¶

**æ›´æ–°ç­–ç•¥**:

- **å®æ—¶æ›´æ–°**: æ¯æ¬¡å­¦ä¹ æ´»åŠ¨åæ›´æ–°
- **å®šæœŸæ›´æ–°**: æ¯å‘¨/æ¯æœˆå®šæœŸæ›´æ–°
- **è§¦å‘æ›´æ–°**: ç‰¹å®šäº‹ä»¶è§¦å‘æ›´æ–°

**æ›´æ–°ç®—æ³•**:

```python
def update_learner_profile(learner_profile, new_data):
    """æ›´æ–°å­¦ä¹ è€…ç‰¹å¾"""
    # 1. æ›´æ–°è®¤çŸ¥é£æ ¼
    learner_profile.cognitive_style = update_cognitive_style(
        learner_profile.cognitive_style, new_data
    )

    # 2. æ›´æ–°èƒ½åŠ›æ°´å¹³
    learner_profile.ability_level = update_ability_level(
        learner_profile.ability_level, new_data
    )

    # 3. æ›´æ–°å­¦ä¹ åå¥½
    learner_profile.learning_preferences = update_preferences(
        learner_profile.learning_preferences, new_data
    )

    # 4. æ›´æ–°å­¦ä¹ å†å²
    learner_profile.learning_history.append(new_data)

    return learner_profile
```

---

## ğŸ—ºï¸ ä¸‰ã€ä¸ªæ€§åŒ–å­¦ä¹ è·¯å¾„ç”Ÿæˆè®¾è®¡ (ç¼–å·: DESIGN.002.03)

### 3.1 è·¯å¾„è§„åˆ’ç®—æ³•

#### ç®—æ³•1: åŸºäºçŸ¥è¯†ä¾èµ–çš„è·¯å¾„è§„åˆ’

**åŸç†**: è€ƒè™‘çŸ¥è¯†ç‚¹çš„å…ˆä¿®å…³ç³»ï¼Œè§„åˆ’å­¦ä¹ é¡ºåº

**ç®—æ³•æµç¨‹**:

```python
def plan_learning_path(concepts, learner_profile, knowledge_dependencies):
    """è§„åˆ’å­¦ä¹ è·¯å¾„"""
    # 1. æ„å»ºçŸ¥è¯†ä¾èµ–å›¾
    dependency_graph = build_dependency_graph(
        concepts, knowledge_dependencies
    )

    # 2. æ‹“æ‰‘æ’åº
    learning_order = topological_sort(dependency_graph)

    # 3. è€ƒè™‘å­¦ä¹ è€…ç‰¹å¾è°ƒæ•´é¡ºåº
    adjusted_order = adjust_order_for_learner(
        learning_order, learner_profile
    )

    # 4. ç”Ÿæˆå­¦ä¹ è·¯å¾„
    learning_path = create_learning_path(
        adjusted_order, learner_profile
    )

    return learning_path
```

#### ç®—æ³•2: åŸºäºèƒ½åŠ›æ°´å¹³çš„è·¯å¾„è§„åˆ’

**åŸç†**: æ ¹æ®å­¦ä¹ è€…èƒ½åŠ›æ°´å¹³ï¼Œè§„åˆ’åˆé€‚çš„å­¦ä¹ è·¯å¾„

**ç®—æ³•æµç¨‹**:

```python
def plan_path_by_ability(concepts, ability_level):
    """åŸºäºèƒ½åŠ›æ°´å¹³è§„åˆ’è·¯å¾„"""
    # 1. æ ¹æ®èƒ½åŠ›æ°´å¹³ç­›é€‰æ¦‚å¿µ
    suitable_concepts = filter_concepts_by_ability(
        concepts, ability_level
    )

    # 2. è§„åˆ’å­¦ä¹ é¡ºåº
    learning_order = plan_learning_order(suitable_concepts)

    # 3. è®¾ç½®éš¾åº¦åºåˆ—
    difficulty_sequence = create_difficulty_sequence(
        learning_order, ability_level
    )

    return {
        'concepts': suitable_concepts,
        'order': learning_order,
        'difficulty': difficulty_sequence
    }
```

#### ç®—æ³•3: åŸºäºå­¦ä¹ ç›®æ ‡çš„è·¯å¾„è§„åˆ’

**åŸç†**: æ ¹æ®å­¦ä¹ è€…çš„å­¦ä¹ ç›®æ ‡ï¼Œè§„åˆ’é’ˆå¯¹æ€§è·¯å¾„

**ç®—æ³•æµç¨‹**:

```python
def plan_path_by_goal(concepts, learning_goal, learner_profile):
    """åŸºäºå­¦ä¹ ç›®æ ‡è§„åˆ’è·¯å¾„"""
    # 1. è¯†åˆ«ç›®æ ‡ç›¸å…³æ¦‚å¿µ
    goal_concepts = identify_goal_concepts(concepts, learning_goal)

    # 2. è§„åˆ’æœ€çŸ­è·¯å¾„
    shortest_path = find_shortest_path(
        goal_concepts, learner_profile.current_knowledge
    )

    # 3. ä¼˜åŒ–è·¯å¾„
    optimized_path = optimize_path(shortest_path, learner_profile)

    return optimized_path
```

### 3.2 è·¯å¾„ä¼˜åŒ–ç®—æ³•

#### ä¼˜åŒ–ç›®æ ‡

**ç›®æ ‡1: æœ€å°åŒ–å­¦ä¹ æ—¶é—´**

- å‡å°‘ä¸å¿…è¦çš„å­¦ä¹ å†…å®¹
- ä¼˜åŒ–å­¦ä¹ é¡ºåº
- æé«˜å­¦ä¹ æ•ˆç‡

**ç›®æ ‡2: æœ€å¤§åŒ–å­¦ä¹ æ•ˆæœ**

- ç¡®ä¿çŸ¥è¯†æŒæ¡
- æé«˜ç†è§£æ·±åº¦
- å¢å¼ºåº”ç”¨èƒ½åŠ›

**ç›®æ ‡3: å¹³è¡¡å­¦ä¹ éš¾åº¦**

- é¿å…éš¾åº¦è·³è·ƒè¿‡å¤§
- ä¿æŒå­¦ä¹ æŒ‘æˆ˜æ€§
- ç»´æŒå­¦ä¹ åŠ¨æœº

#### ä¼˜åŒ–ç®—æ³•

```python
def optimize_learning_path(learning_path, learner_profile, constraints):
    """ä¼˜åŒ–å­¦ä¹ è·¯å¾„"""
    # 1. è¯„ä¼°å½“å‰è·¯å¾„
    current_score = evaluate_path(learning_path, learner_profile)

    # 2. ç”Ÿæˆå€™é€‰è·¯å¾„
    candidate_paths = generate_candidate_paths(
        learning_path, constraints
    )

    # 3. è¯„ä¼°å€™é€‰è·¯å¾„
    candidate_scores = [
        evaluate_path(path, learner_profile)
        for path in candidate_paths
    ]

    # 4. é€‰æ‹©æœ€ä¼˜è·¯å¾„
    optimal_path = candidate_paths[
        candidate_scores.index(max(candidate_scores))
    ]

    return optimal_path
```

### 3.3 è·¯å¾„è°ƒæ•´æœºåˆ¶

#### è°ƒæ•´è§¦å‘æ¡ä»¶

**æ¡ä»¶1: å­¦ä¹ æ•ˆæœä¸ä½³**

- æµ‹è¯•æˆç»©ä½äºé¢„æœŸ
- å­¦ä¹ æ—¶é—´è¶…è¿‡é¢„æœŸ
- ç†è§£ç¨‹åº¦ä¸è¶³

**æ¡ä»¶2: å­¦ä¹ è¿›åº¦è¿‡å¿«**

- æµ‹è¯•æˆç»©é«˜äºé¢„æœŸ
- å­¦ä¹ æ—¶é—´å°‘äºé¢„æœŸ
- ç†è§£ç¨‹åº¦å……åˆ†

**æ¡ä»¶3: å­¦ä¹ å…´è¶£å˜åŒ–**

- å­¦ä¹ è€…åé¦ˆå…´è¶£å˜åŒ–
- å­¦ä¹ è¡Œä¸ºæ¨¡å¼å˜åŒ–
- å­¦ä¹ ç›®æ ‡è°ƒæ•´

#### è°ƒæ•´ç­–ç•¥

```python
def adjust_learning_path(learning_path, feedback, learner_profile):
    """è°ƒæ•´å­¦ä¹ è·¯å¾„"""
    # 1. åˆ†æåé¦ˆ
    feedback_analysis = analyze_feedback(feedback)

    # 2. ç¡®å®šè°ƒæ•´ç­–ç•¥
    if feedback_analysis['performance'] < threshold_low:
        strategy = "é™ä½éš¾åº¦ï¼Œå¢åŠ åŸºç¡€å†…å®¹"
    elif feedback_analysis['performance'] > threshold_high:
        strategy = "æé«˜éš¾åº¦ï¼Œå¢åŠ æŒ‘æˆ˜å†…å®¹"
    else:
        strategy = "å¾®è°ƒè·¯å¾„ï¼Œä¼˜åŒ–å­¦ä¹ ä½“éªŒ"

    # 3. æ‰§è¡Œè°ƒæ•´
    adjusted_path = apply_adjustment(
        learning_path, strategy, learner_profile
    )

    return adjusted_path
```

---

## ğŸ“š å››ã€å­¦ä¹ å†…å®¹æ¨èè®¾è®¡ (ç¼–å·: DESIGN.002.04)

### 4.1 æ¨èç®—æ³•

#### ç®—æ³•1: åŸºäºå†…å®¹çš„æ¨è

**åŸç†**: æ ¹æ®å­¦ä¹ å†…å®¹çš„ç›¸ä¼¼åº¦å’Œå­¦ä¹ è€…çš„åå¥½æ¨è

**ç®—æ³•æµç¨‹**:

```python
def content_based_recommendation(learner_profile, content_library):
    """åŸºäºå†…å®¹çš„æ¨è"""
    # 1. åˆ†æå­¦ä¹ è€…åå¥½
    preferences = analyze_preferences(learner_profile)

    # 2. è®¡ç®—å†…å®¹ç›¸ä¼¼åº¦
    content_scores = {}
    for content in content_library:
        similarity = calculate_content_similarity(
            content, preferences
        )
        content_scores[content] = similarity

    # 3. æ’åºæ¨è
    recommended_contents = sorted(
        content_scores.items(),
        key=lambda x: x[1],
        reverse=True
    )[:top_n]

    return recommended_contents
```

#### ç®—æ³•2: ååŒè¿‡æ»¤æ¨è

**åŸç†**: æ ¹æ®ç›¸ä¼¼å­¦ä¹ è€…çš„å­¦ä¹ è¡Œä¸ºæ¨è

**ç®—æ³•æµç¨‹**:

```python
def collaborative_filtering_recommendation(
    learner_profile, similar_learners, content_library
):
    """ååŒè¿‡æ»¤æ¨è"""
    # 1. æ‰¾åˆ°ç›¸ä¼¼å­¦ä¹ è€…
    similar_learners = find_similar_learners(learner_profile)

    # 2. åˆ†æç›¸ä¼¼å­¦ä¹ è€…çš„å­¦ä¹ å†…å®¹
    popular_contents = analyze_popular_contents(similar_learners)

    # 3. æ¨èæœªå­¦ä¹ çš„å†…å®¹
    recommended_contents = filter_unlearned_contents(
        popular_contents, learner_profile.learning_history
    )

    return recommended_contents
```

#### ç®—æ³•3: æ··åˆæ¨èç®—æ³•

**åŸç†**: ç»“åˆå¤šç§æ¨èç®—æ³•ï¼Œæé«˜æ¨èå‡†ç¡®æ€§

**ç®—æ³•æµç¨‹**:

```python
def hybrid_recommendation(learner_profile, content_library):
    """æ··åˆæ¨è"""
    # 1. åŸºäºå†…å®¹çš„æ¨è
    content_based = content_based_recommendation(
        learner_profile, content_library
    )

    # 2. ååŒè¿‡æ»¤æ¨è
    collaborative = collaborative_filtering_recommendation(
        learner_profile, content_library
    )

    # 3. æ·±åº¦å­¦ä¹ æ¨è
    deep_learning = deep_learning_recommendation(
        learner_profile, content_library
    )

    # 4. èåˆæ¨èç»“æœ
    hybrid_recommendations = fuse_recommendations(
        content_based, collaborative, deep_learning
    )

    return hybrid_recommendations
```

### 4.2 æ¨èç­–ç•¥

#### ç­–ç•¥1: åŸºäºå­¦ä¹ è¿›åº¦çš„æ¨è

**ç­–ç•¥**: æ ¹æ®å­¦ä¹ è¿›åº¦æ¨èä¸‹ä¸€æ­¥å­¦ä¹ å†…å®¹

**å®ç°**:

```python
def recommend_by_progress(learner_profile, current_concept):
    """åŸºäºå­¦ä¹ è¿›åº¦æ¨è"""
    # 1. è·å–å½“å‰å­¦ä¹ æ¦‚å¿µ
    current = current_concept

    # 2. æ‰¾åˆ°åç»­æ¦‚å¿µ
    next_concepts = find_next_concepts(current)

    # 3. æ ¹æ®èƒ½åŠ›æ°´å¹³ç­›é€‰
    suitable_concepts = filter_by_ability(
        next_concepts, learner_profile.ability_level
    )

    # 4. æ¨èæœ€é€‚åˆçš„æ¦‚å¿µ
    recommended = select_best_concept(
        suitable_concepts, learner_profile
    )

    return recommended
```

#### ç­–ç•¥2: åŸºäºå­¦ä¹ ç›®æ ‡çš„æ¨è

**ç­–ç•¥**: æ ¹æ®å­¦ä¹ ç›®æ ‡æ¨èç›¸å…³å­¦ä¹ å†…å®¹

**å®ç°**:

```python
def recommend_by_goal(learner_profile, learning_goal):
    """åŸºäºå­¦ä¹ ç›®æ ‡æ¨è"""
    # 1. è¯†åˆ«ç›®æ ‡ç›¸å…³æ¦‚å¿µ
    goal_concepts = identify_goal_concepts(learning_goal)

    # 2. æ‰¾åˆ°å­¦ä¹ è·¯å¾„
    learning_path = find_path_to_goal(
        goal_concepts, learner_profile.current_knowledge
    )

    # 3. æ¨èè·¯å¾„ä¸­çš„å†…å®¹
    recommended_contents = extract_path_contents(learning_path)

    return recommended_contents
```

#### ç­–ç•¥3: åŸºäºå­¦ä¹ å…´è¶£çš„æ¨è

**ç­–ç•¥**: æ ¹æ®å­¦ä¹ å…´è¶£æ¨èç›¸å…³å†…å®¹

**å®ç°**:

```python
def recommend_by_interest(learner_profile, interest_areas):
    """åŸºäºå­¦ä¹ å…´è¶£æ¨è"""
    # 1. è¯†åˆ«å…´è¶£é¢†åŸŸ
    interest_concepts = identify_interest_concepts(interest_areas)

    # 2. æ¨èç›¸å…³å†…å®¹
    recommended_contents = find_related_contents(
        interest_concepts, learner_profile
    )

    return recommended_contents
```

---

## ğŸ“Š äº”ã€å­¦ä¹ éš¾åº¦è°ƒæ•´è®¾è®¡ (ç¼–å·: DESIGN.002.05)

### 5.1 éš¾åº¦è¯„ä¼°ç®—æ³•

#### è¯„ä¼°ç»´åº¦

**ç»´åº¦1: å†…å®¹éš¾åº¦**

- æ¦‚å¿µå¤æ‚åº¦
- å®šç†éš¾åº¦
- æ–¹æ³•å¤æ‚åº¦

**ç»´åº¦2: é—®é¢˜éš¾åº¦**

- é—®é¢˜ç±»å‹
- é—®é¢˜å¤æ‚åº¦
- è§£é¢˜æ­¥éª¤æ•°

**ç»´åº¦3: ç»¼åˆéš¾åº¦**

- å†…å®¹éš¾åº¦æƒé‡
- é—®é¢˜éš¾åº¦æƒé‡
- ç»¼åˆéš¾åº¦è®¡ç®—

#### è¯„ä¼°ç®—æ³•

```python
def assess_difficulty(content, learner_profile):
    """è¯„ä¼°å­¦ä¹ éš¾åº¦"""
    # 1. è¯„ä¼°å†…å®¹éš¾åº¦
    content_difficulty = assess_content_difficulty(content)

    # 2. è¯„ä¼°é—®é¢˜éš¾åº¦
    problem_difficulty = assess_problem_difficulty(content.problems)

    # 3. è€ƒè™‘å­¦ä¹ è€…èƒ½åŠ›
    relative_difficulty = calculate_relative_difficulty(
        content_difficulty, problem_difficulty,
        learner_profile.ability_level
    )

    return relative_difficulty
```

### 5.2 éš¾åº¦è°ƒæ•´ç­–ç•¥

#### ç­–ç•¥1: è‡ªé€‚åº”è°ƒæ•´

**ç­–ç•¥**: æ ¹æ®å­¦ä¹ æ•ˆæœè‡ªåŠ¨è°ƒæ•´éš¾åº¦

**å®ç°**:

```python
def adaptive_difficulty_adjustment(
    current_difficulty, performance, learner_profile
):
    """è‡ªé€‚åº”éš¾åº¦è°ƒæ•´"""
    # 1. åˆ†æå­¦ä¹ æ•ˆæœ
    if performance > threshold_high:
        # å­¦ä¹ æ•ˆæœå¥½ï¼Œæé«˜éš¾åº¦
        new_difficulty = increase_difficulty(
            current_difficulty, learner_profile.ability_level
        )
    elif performance < threshold_low:
        # å­¦ä¹ æ•ˆæœå·®ï¼Œé™ä½éš¾åº¦
        new_difficulty = decrease_difficulty(
            current_difficulty, learner_profile.ability_level
        )
    else:
        # å­¦ä¹ æ•ˆæœé€‚ä¸­ï¼Œä¿æŒéš¾åº¦
        new_difficulty = current_difficulty

    return new_difficulty
```

#### ç­–ç•¥2: æ¸è¿›å¼è°ƒæ•´

**ç­–ç•¥**: é€æ­¥è°ƒæ•´éš¾åº¦ï¼Œé¿å…è·³è·ƒè¿‡å¤§

**å®ç°**:

```python
def gradual_difficulty_adjustment(
    current_difficulty, target_difficulty, adjustment_rate
):
    """æ¸è¿›å¼éš¾åº¦è°ƒæ•´"""
    # 1. è®¡ç®—è°ƒæ•´æ­¥é•¿
    step = (target_difficulty - current_difficulty) * adjustment_rate

    # 2. é€æ­¥è°ƒæ•´
    new_difficulty = current_difficulty + step

    # 3. é™åˆ¶è°ƒæ•´èŒƒå›´
    new_difficulty = clamp(
        new_difficulty,
        min_difficulty,
        max_difficulty
    )

    return new_difficulty
```

### 5.3 éš¾åº¦åé¦ˆæœºåˆ¶

#### åé¦ˆç±»å‹

**ç±»å‹1: å®æ—¶åé¦ˆ**

- å­¦ä¹ è¿‡ç¨‹ä¸­çš„å³æ—¶åé¦ˆ
- éš¾åº¦è°ƒæ•´æç¤º
- å­¦ä¹ å»ºè®®

**ç±»å‹2: å®šæœŸåé¦ˆ**

- æ¯å‘¨/æ¯æœˆéš¾åº¦åˆ†æ
- éš¾åº¦å˜åŒ–è¶‹åŠ¿
- éš¾åº¦è°ƒæ•´å»ºè®®

#### åé¦ˆç”Ÿæˆ

```python
def generate_difficulty_feedback(
    difficulty_history, performance_history, learner_profile
):
    """ç”Ÿæˆéš¾åº¦åé¦ˆ"""
    # 1. åˆ†æéš¾åº¦å˜åŒ–
    difficulty_trend = analyze_difficulty_trend(difficulty_history)

    # 2. åˆ†æå­¦ä¹ æ•ˆæœ
    performance_trend = analyze_performance_trend(performance_history)

    # 3. ç”Ÿæˆåé¦ˆ
    feedback = {
        'current_difficulty': difficulty_history[-1],
        'difficulty_trend': difficulty_trend,
        'performance_trend': performance_trend,
        'suggestions': generate_difficulty_suggestions(
            difficulty_trend, performance_trend, learner_profile
        )
    }

    return feedback
```

---

## ğŸ”„ å…­ã€å­¦ä¹ åé¦ˆç³»ç»Ÿè®¾è®¡ (ç¼–å·: DESIGN.002.06)

### 6.1 åé¦ˆç±»å‹

#### ç±»å‹1: å®æ—¶åé¦ˆ

**å†…å®¹**:

- ç­”é¢˜æ­£ç¡®/é”™è¯¯åé¦ˆ
- å­¦ä¹ è¿›åº¦åé¦ˆ
- å­¦ä¹ æ—¶é—´åé¦ˆ

**ç”Ÿæˆæœºåˆ¶**:

```python
def generate_realtime_feedback(learning_activity, result):
    """ç”Ÿæˆå®æ—¶åé¦ˆ"""
    feedback = {
        'type': 'realtime',
        'timestamp': datetime.now(),
        'activity': learning_activity,
        'result': result,
        'message': generate_feedback_message(result),
        'suggestion': generate_immediate_suggestion(result)
    }

    return feedback
```

#### ç±»å‹2: è¿›åº¦åé¦ˆ

**å†…å®¹**:

- å­¦ä¹ è¿›åº¦ç™¾åˆ†æ¯”
- å·²å®Œæˆå†…å®¹
- å¾…å­¦ä¹ å†…å®¹

**ç”Ÿæˆæœºåˆ¶**:

```python
def generate_progress_feedback(learning_path, learner_profile):
    """ç”Ÿæˆè¿›åº¦åé¦ˆ"""
    # 1. è®¡ç®—å­¦ä¹ è¿›åº¦
    progress = calculate_progress(learning_path, learner_profile)

    # 2. ç”Ÿæˆè¿›åº¦æŠ¥å‘Š
    feedback = {
        'type': 'progress',
        'overall_progress': progress['overall'],
        'concept_progress': progress['by_concept'],
        'estimated_completion': progress['estimated_completion'],
        'milestones': progress['milestones']
    }

    return feedback
```

#### ç±»å‹3: èƒ½åŠ›åé¦ˆ

**å†…å®¹**:

- èƒ½åŠ›æ°´å¹³å˜åŒ–
- èƒ½åŠ›åˆ†ææŠ¥å‘Š
- èƒ½åŠ›æå‡å»ºè®®

**ç”Ÿæˆæœºåˆ¶**:

```python
def generate_ability_feedback(ability_history, current_ability):
    """ç”Ÿæˆèƒ½åŠ›åé¦ˆ"""
    # 1. åˆ†æèƒ½åŠ›å˜åŒ–
    ability_change = analyze_ability_change(ability_history)

    # 2. ç”Ÿæˆèƒ½åŠ›æŠ¥å‘Š
    feedback = {
        'type': 'ability',
        'current_ability': current_ability,
        'ability_change': ability_change,
        'strengths': identify_strengths(current_ability),
        'weaknesses': identify_weaknesses(current_ability),
        'improvement_suggestions': generate_improvement_suggestions(
            ability_change, current_ability
        )
    }

    return feedback
```

### 6.2 åé¦ˆä¸ªæ€§åŒ–

#### ä¸ªæ€§åŒ–ç»´åº¦

**ç»´åº¦1: åé¦ˆè¯¦ç»†ç¨‹åº¦**

- ç®€æ´åé¦ˆï¼šé€‚åˆå¿«é€Ÿå­¦ä¹ è€…
- è¯¦ç»†åé¦ˆï¼šé€‚åˆéœ€è¦æŒ‡å¯¼çš„å­¦ä¹ è€…

**ç»´åº¦2: åé¦ˆå½¢å¼**

- æ–‡æœ¬åé¦ˆï¼šé€‚åˆé˜…è¯»å‹å­¦ä¹ è€…
- å›¾è¡¨åé¦ˆï¼šé€‚åˆè§†è§‰å‹å­¦ä¹ è€…
- éŸ³é¢‘åé¦ˆï¼šé€‚åˆå¬è§‰å‹å­¦ä¹ è€…

**ç»´åº¦3: åé¦ˆæ—¶æœº**

- å³æ—¶åé¦ˆï¼šé€‚åˆéœ€è¦åŠæ—¶åé¦ˆçš„å­¦ä¹ è€…
- å®šæœŸåé¦ˆï¼šé€‚åˆéœ€è¦æ€»ç»“çš„å­¦ä¹ è€…

---

## ğŸ”Œ ä¸ƒã€ç³»ç»Ÿæ¥å£è®¾è®¡ (ç¼–å·: DESIGN.002.07)

### 7.1 APIæ¥å£

#### æ¥å£1: å­¦ä¹ è·¯å¾„ç”Ÿæˆæ¥å£

```python
POST /api/learning-path/generate
Request:
{
    "learner_id": "string",
    "learning_goal": "string",
    "preferences": {...}
}
Response:
{
    "path_id": "string",
    "concepts": [...],
    "order": [...],
    "estimated_time": {...},
    "difficulty_sequence": [...]
}
```

#### æ¥å£2: å†…å®¹æ¨èæ¥å£

```python
POST /api/content/recommend
Request:
{
    "learner_id": "string",
    "current_concept": "string",
    "recommendation_type": "string"
}
Response:
{
    "recommended_contents": [
        {
            "content_id": "string",
            "title": "string",
            "type": "string",
            "difficulty": float,
            "score": float,
            "reason": "string"
        }
    ]
}
```

#### æ¥å£3: éš¾åº¦è°ƒæ•´æ¥å£

```python
POST /api/difficulty/adjust
Request:
{
    "learner_id": "string",
    "current_difficulty": float,
    "performance": float
}
Response:
{
    "new_difficulty": float,
    "adjustment_reason": "string",
    "suggestions": [...]
}
```

### 7.2 æ•°æ®æ¨¡å‹

#### æ¨¡å‹1: å­¦ä¹ è·¯å¾„æ¨¡å‹

```python
class LearningPath:
    path_id: str
    learner_id: str
    concepts: List[Concept]
    order: List[int]
    estimated_time: Dict[Concept, int]
    difficulty_sequence: List[float]
    status: str  # active, completed, paused
    created_at: datetime
    updated_at: datetime
```

#### æ¨¡å‹2: å†…å®¹æ¨èæ¨¡å‹

```python
class ContentRecommendation:
    recommendation_id: str
    learner_id: str
    recommended_contents: List[Content]
    recommendation_scores: Dict[str, float]
    recommendation_reasons: Dict[str, str]
    created_at: datetime
```

---

## ğŸ§ª å…«ã€æµ‹è¯•ä¸éªŒè¯ (ç¼–å·: DESIGN.002.08)

### 8.1 æµ‹è¯•è®¡åˆ’

#### æµ‹è¯•1: æ¨èå‡†ç¡®æ€§æµ‹è¯•

**ç›®æ ‡**: éªŒè¯æ¨èç®—æ³•çš„å‡†ç¡®æ€§

**æ–¹æ³•**:

- ä½¿ç”¨å†å²æ•°æ®æµ‹è¯•
- å¯¹æ¯”ä¸åŒæ¨èç®—æ³•
- è¯„ä¼°æ¨èæ•ˆæœ

**æŒ‡æ ‡**:

- æ¨èå‡†ç¡®åº¦ > 75%
- ç”¨æˆ·æ»¡æ„åº¦ > 80%
- ç‚¹å‡»ç‡ > 60%

#### æµ‹è¯•2: è·¯å¾„ä¼˜åŒ–æ•ˆæœæµ‹è¯•

**ç›®æ ‡**: éªŒè¯è·¯å¾„ä¼˜åŒ–çš„æ•ˆæœ

**æ–¹æ³•**:

- å¯¹æ¯”ä¼˜åŒ–å‰åçš„å­¦ä¹ æ•ˆæœ
- è¯„ä¼°å­¦ä¹ æ—¶é—´èŠ‚çœ
- è¯„ä¼°å­¦ä¹ æ•ˆæœæå‡

**æŒ‡æ ‡**:

- å­¦ä¹ æ—¶é—´èŠ‚çœ > 20%
- å­¦ä¹ æ•ˆæœæå‡ > 15%
- ç”¨æˆ·æ»¡æ„åº¦ > 80%

### 8.2 éªŒè¯æ ‡å‡†

**æ ‡å‡†1: æ¨èå‡†ç¡®æ€§**

- æ¨èå‡†ç¡®åº¦ > 75%
- æ¨èç›¸å…³æ€§ > 0.7
- ç”¨æˆ·æ»¡æ„åº¦ > 80%

**æ ‡å‡†2: ç³»ç»Ÿæ€§èƒ½**

- æ¨èå“åº”æ—¶é—´ < 3ç§’
- è·¯å¾„ç”Ÿæˆæ—¶é—´ < 5ç§’
- ç³»ç»Ÿå¯ç”¨æ€§ > 99%

**æ ‡å‡†3: ç”¨æˆ·ä½“éªŒ**

- ç”¨æˆ·æ»¡æ„åº¦ > 80%
- å­¦ä¹ æ•ˆç‡æå‡ > 20%
- å­¦ä¹ æ•ˆæœæå‡ > 15%

---

## ğŸ“ ä¹ã€å®æ–½è®¡åˆ’ (ç¼–å·: DESIGN.002.09)

### 9.1 å¼€å‘é˜¶æ®µ

#### é˜¶æ®µ1: åŸºç¡€æ¡†æ¶å¼€å‘ï¼ˆ2å‘¨ï¼‰

- å®ç°å­¦ä¹ è€…ç‰¹å¾åˆ†ææ¨¡å—
- å®ç°åŸºç¡€æ•°æ®ç»“æ„
- å®ç°åŸºç¡€ç®—æ³•æ¡†æ¶

#### é˜¶æ®µ2: æ ¸å¿ƒç®—æ³•å¼€å‘ï¼ˆ3å‘¨ï¼‰

- å®ç°å­¦ä¹ è·¯å¾„ç”Ÿæˆç®—æ³•
- å®ç°å†…å®¹æ¨èç®—æ³•
- å®ç°éš¾åº¦è°ƒæ•´ç®—æ³•

#### é˜¶æ®µ3: åŠŸèƒ½å®Œå–„ï¼ˆ2å‘¨ï¼‰

- å®ç°å­¦ä¹ åé¦ˆç³»ç»Ÿ
- å®ç°ç³»ç»Ÿæ¥å£
- å®ç°ç”¨æˆ·ç•Œé¢

#### é˜¶æ®µ4: æµ‹è¯•ä¼˜åŒ–ï¼ˆ2å‘¨ï¼‰

- ç³»ç»Ÿæµ‹è¯•
- æ€§èƒ½ä¼˜åŒ–
- ç”¨æˆ·ä½“éªŒä¼˜åŒ–

### 9.2 éªŒæ”¶æ ‡å‡†

**åŠŸèƒ½éªŒæ”¶**:

- âœ… æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å®ç°
- âœ… æ‰€æœ‰æ¥å£æ­£å¸¸å·¥ä½œ
- âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡

**æ€§èƒ½éªŒæ”¶**:

- âœ… æ¨èå“åº”æ—¶é—´è¾¾æ ‡
- âœ… è·¯å¾„ç”Ÿæˆæ—¶é—´è¾¾æ ‡
- âœ… ç³»ç»Ÿæ€§èƒ½è¾¾æ ‡

**è´¨é‡éªŒæ”¶**:

- âœ… ä»£ç è´¨é‡è¾¾æ ‡
- âœ… æ–‡æ¡£å®Œæ•´
- âœ… æµ‹è¯•è¦†ç›–å……åˆ†

---

**æ–‡æ¡£åˆ›å»ºæ—¶é—´**: 2025å¹´11æœˆ30æ—¥
**ç‰ˆæœ¬**: v1.0
**çŠ¶æ€**: è®¾è®¡å®Œæˆï¼Œå¾…å¼€å‘
**ä¸‹æ¬¡æ›´æ–°**: å¼€å‘è¿‡ç¨‹ä¸­æŒç»­æ›´æ–°
