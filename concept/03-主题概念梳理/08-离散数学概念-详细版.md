# 离散数学概念详细版

**主题编号**: C.03.08.D
**创建日期**: 2025年11月21日
**最后更新**: 2025年11月21日

---

## 📋 目录 / Table of Contents

- [离散数学概念详细版](#离散数学概念详细版)
  - [📋 目录 / Table of Contents](#-目录--table-of-contents)
  - [📋 概述 (编号: C.03.08.D.01)](#-概述-编号-c0308d01)
  - [📚 一、图论核心概念详细版 (编号: C.03.08.D.02)](#-一图论核心概念详细版-编号-c0308d02)
    - [1.1 图的基本概念 - 详细定义与性质](#11-图的基本概念---详细定义与性质)
    - [1.2 图的性质与定理 - 证明思路](#12-图的性质与定理---证明思路)
    - [1.3 图的算法与应用](#13-图的算法与应用)
  - [🔢 二、组合数学核心概念详细版 (编号: C.03.08.D.03)](#-二组合数学核心概念详细版-编号-c0308d03)
    - [2.1 计数原理 - 详细证明](#21-计数原理---详细证明)
    - [2.2 排列组合 - 性质与关系](#22-排列组合---性质与关系)
  - [🔗 关联文档 (编号: C.03.08.D.04)](#-关联文档-编号-c0308d04)

---

## 📋 概述 (编号: C.03.08.D.01)

本文档提供离散数学核心概念的详细说明，包括严格的定义、重要性质、关系说明、证明思路和实际应用。

**目标**: 提供实质性、可操作的知识内容

---

## 📚 一、图论核心概念详细版 (编号: C.03.08.D.02)

### 1.1 图的基本概念 - 详细定义与性质

#### 图的严格定义

**定义 1.1.1 (图)**
设 $V$ 是一个非空有限集合，$E \subseteq V \times V$ 是 $V$ 上的二元关系。有序对 $G = (V, E)$ 称为一个**图**（Graph），其中：
- $V$ 称为**顶点集**（Vertex Set），元素称为**顶点**（Vertex）或**节点**（Node）
- $E$ 称为**边集**（Edge Set），元素称为**边**（Edge）

**记号约定**：
- $|V| = n$ 表示顶点数
- $|E| = m$ 表示边数
- 边 $(u,v) \in E$ 可记为 $uv$ 或 $u \to v$（有向图）

#### 图的类型与性质

**定义 1.1.2 (无向图)**
如果边集 $E$ 满足对称性：$(u,v) \in E \Leftrightarrow (v,u) \in E$，则图 $G$ 称为**无向图**（Undirected Graph）。

**性质 1.1.1**
无向图中，每条边连接两个顶点，不计顺序。边 $uv$ 和 $vu$ 视为同一条边。

**定义 1.1.3 (有向图)**
如果边集 $E$ 不要求对称性，则图 $G$ 称为**有向图**（Directed Graph 或 Digraph）。

**性质 1.1.2**
有向图中，边 $(u,v)$ 表示从 $u$ 指向 $v$ 的有向边，$(u,v) \neq (v,u)$。

**定义 1.1.4 (简单图)**
如果图 $G$ 满足：
1. 无自环：$\forall v \in V, (v,v) \notin E$
2. 无重边：任意两个顶点间至多有一条边

则 $G$ 称为**简单图**（Simple Graph）。

**性质 1.1.3 (简单图边数上界)**
$n$ 个顶点的简单无向图最多有 $\binom{n}{2} = \frac{n(n-1)}{2}$ 条边。

**证明思路**：从 $n$ 个顶点中选择 2 个顶点形成一条边，共有 $\binom{n}{2}$ 种选择。

#### 顶点的度

**定义 1.1.5 (度)**
在无向图 $G = (V,E)$ 中，顶点 $v$ 的**度**（Degree）$d(v)$ 是与 $v$ 相邻的边的数量。

**性质 1.1.4 (握手引理)**
对于任意无向图 $G = (V,E)$，有：
$$\sum_{v \in V} d(v) = 2|E|$$

**证明**：
- 每条边连接两个顶点，在度数和中被计算两次
- 因此所有顶点度数之和等于边数的两倍

**推论 1.1.1**
任意图中，度数为奇数的顶点个数为偶数。

**证明思路**：由握手引理，所有度数之和为偶数，因此奇数度顶点必须成对出现。

#### 路径与连通性

**定义 1.1.6 (路径)**
图 $G = (V,E)$ 中的**路径**（Path）是一个顶点序列 $v_0, v_1, \ldots, v_k$，使得对于 $i = 0, 1, \ldots, k-1$，有 $(v_i, v_{i+1}) \in E$。路径的长度为 $k$（边的数量）。

**定义 1.1.7 (回路)**
如果路径 $v_0, v_1, \ldots, v_k$ 满足 $v_0 = v_k$ 且 $k \geq 1$，则称为**回路**（Cycle）或**圈**。

**定义 1.1.8 (连通性)**
无向图 $G$ 称为**连通图**（Connected Graph），如果对于任意两个顶点 $u, v \in V$，存在从 $u$ 到 $v$ 的路径。

**性质 1.1.5**
连通图 $G = (V,E)$ 满足：$|E| \geq |V| - 1$。

**证明思路**：
- 使用数学归纳法
- 基础：$|V| = 1$ 时，$|E| \geq 0 = |V| - 1$
- 归纳：假设对 $n$ 个顶点成立，考虑 $n+1$ 个顶点的连通图
- 删除一个顶点及其关联边，剩余图可能不连通，但至少需要 $n-1$ 条边保持连通
- 新顶点至少需要 1 条边连接到原图，因此 $|E| \geq n = (n+1) - 1$

### 1.2 图的性质与定理 - 证明思路

#### 欧拉路径与欧拉回路

**定理 1.2.1 (欧拉路径存在性)**
连通无向图 $G$ 存在欧拉路径当且仅当：
- $G$ 中恰好有 0 个或 2 个度数为奇数的顶点

**证明思路**：
- **必要性**：如果存在欧拉路径，除了起点和终点（如果不同），每个顶点进入和离开次数相等，因此度数为偶数。起点和终点（如果不同）度数为奇数。
- **充分性**：从度数为奇数的顶点（如果存在）或任意顶点开始，使用贪心策略构造路径。由于每个顶点度数为偶数（除了可能的两个端点），可以保证构造出欧拉路径。

**定理 1.2.2 (欧拉回路存在性)**
连通无向图 $G$ 存在欧拉回路当且仅当：
- $G$ 中所有顶点度数为偶数

**证明思路**：欧拉回路是起点和终点相同的欧拉路径，因此所有顶点度数为偶数。

#### 哈密顿路径

**定理 1.2.3 (Dirac定理)**
如果 $n$ 个顶点的简单无向图 $G$（$n \geq 3$）满足：每个顶点的度至少为 $\frac{n}{2}$，则 $G$ 存在哈密顿回路。

**证明思路**（反证法）：
1. 假设 $G$ 不存在哈密顿回路
2. 在 $G$ 中添加边，直到添加任何新边都会产生哈密顿回路
3. 设 $G'$ 是最终图，$v_1, v_2, \ldots, v_n$ 是 $G'$ 中的最长路径
4. 由于 $d(v_1) + d(v_n) \geq n$，存在 $v_i$ 使得 $v_1v_{i+1}$ 和 $v_iv_n$ 都是边
5. 可以构造回路，与假设矛盾

#### 树的性质

**定理 1.2.4 (树的等价定义)**
对于 $n$ 个顶点的图 $G$，以下条件等价：
1. $G$ 是树（连通无圈）
2. $G$ 连通且 $|E| = n - 1$
3. $G$ 无圈且 $|E| = n - 1$
4. $G$ 中任意两点间存在唯一路径

**证明思路**：
- $(1) \Rightarrow (2)$：使用归纳法，树删除一条边后变成两个连通分量，每个都是树
- $(2) \Rightarrow (3)$：如果 $G$ 有圈，删除圈上一条边仍连通，但边数减少，矛盾
- $(3) \Rightarrow (4)$：如果两点间有两条路径，则存在圈，矛盾
- $(4) \Rightarrow (1)$：唯一路径保证连通，无两条路径保证无圈

### 1.3 图的算法与应用

#### 深度优先搜索 (DFS)

**算法描述**：
```
DFS(G, v):
    标记 v 为已访问
    for each 与 v 相邻的未访问顶点 u:
        DFS(G, u)
```

**性质**：
- 时间复杂度：$O(|V| + |E|)$
- 空间复杂度：$O(|V|)$（递归栈）
- 应用：检测连通性、寻找路径、拓扑排序

#### 广度优先搜索 (BFS)

**算法描述**：
```
BFS(G, s):
    创建队列 Q
    标记 s 为已访问，将 s 入队
    while Q 非空:
        v = Q.dequeue()
        for each 与 v 相邻的未访问顶点 u:
            标记 u 为已访问，将 u 入队
```

**性质**：
- 时间复杂度：$O(|V| + |E|)$
- 空间复杂度：$O(|V|)$
- 应用：最短路径（无权图）、层次遍历

---

## 🔢 二、组合数学核心概念详细版 (编号: C.03.08.D.03)

### 2.1 计数原理 - 详细证明

#### 加法原理

**定理 2.1.1 (加法原理)**
如果事件 $A_1, A_2, \ldots, A_k$ 两两互斥（$A_i \cap A_j = \emptyset$ 对 $i \neq j$），则：
$$|A_1 \cup A_2 \cup \cdots \cup A_k| = |A_1| + |A_2| + \cdots + |A_k|$$

**证明**：
- 由于事件互斥，并集中的每个元素恰好属于一个 $A_i$
- 因此并集的大小等于各事件大小的和

**应用示例**：
- 从 5 个苹果或 3 个橙子中选择一个水果：$5 + 3 = 8$ 种选择

#### 乘法原理

**定理 2.1.2 (乘法原理)**
如果选择过程分为 $k$ 个步骤，第 $i$ 步有 $n_i$ 种选择，且各步选择相互独立，则总共有：
$$n_1 \times n_2 \times \cdots \times n_k$$
种不同的选择方式。

**证明思路**：
- 使用数学归纳法
- 基础：$k = 1$ 时显然成立
- 归纳：假设对 $k-1$ 步成立，第 $k$ 步的每种选择对应前 $k-1$ 步的所有可能，因此总数为 $n_1 \times \cdots \times n_{k-1} \times n_k$

**应用示例**：
- 从 3 件上衣和 2 条裤子中选择一套衣服：$3 \times 2 = 6$ 种选择

#### 容斥原理

**定理 2.1.3 (容斥原理 - 两个集合)**
对于有限集合 $A$ 和 $B$：
$$|A \cup B| = |A| + |B| - |A \cap B|$$

**证明**：
- $|A| + |B|$ 中，$A \cap B$ 中的元素被计算了两次
- 因此需要减去 $|A \cap B|$

**定理 2.1.4 (容斥原理 - 一般形式)**
对于有限集合 $A_1, A_2, \ldots, A_n$：
$$|A_1 \cup A_2 \cup \cdots \cup A_n| = \sum_{i} |A_i| - \sum_{i<j} |A_i \cap A_j| + \sum_{i<j<k} |A_i \cap A_j \cap A_k| - \cdots + (-1)^{n+1} |A_1 \cap A_2 \cap \cdots \cap A_n|$$

**证明思路**：
- 考虑并集中任意元素 $x$ 被计算的次数
- $x$ 属于 $k$ 个集合，在右侧被计算：$\binom{k}{1} - \binom{k}{2} + \binom{k}{3} - \cdots + (-1)^{k+1}\binom{k}{k} = 1$ 次
- 使用二项式定理：$(1-1)^k = 0 = \sum_{i=0}^k (-1)^i \binom{k}{i}$，因此 $\sum_{i=1}^k (-1)^{i+1} \binom{k}{i} = 1$

### 2.2 排列组合 - 性质与关系

#### 排列

**定义 2.2.1 (排列)**
从 $n$ 个不同元素中取 $r$ 个元素的有序排列数记为 $P(n,r)$ 或 $A_n^r$：
$$P(n,r) = \frac{n!}{(n-r)!} = n(n-1)(n-2)\cdots(n-r+1)$$

**证明思路**：
- 第 1 个位置有 $n$ 种选择
- 第 2 个位置有 $n-1$ 种选择（已选元素不能重复）
- ...
- 第 $r$ 个位置有 $n-r+1$ 种选择
- 由乘法原理：$P(n,r) = n(n-1)\cdots(n-r+1) = \frac{n!}{(n-r)!}$

**性质 2.2.1**：
- $P(n,n) = n!$（全排列）
- $P(n,0) = 1$（空排列）
- $P(n,1) = n$

#### 组合

**定义 2.2.2 (组合)**
从 $n$ 个不同元素中取 $r$ 个元素的无序选择数记为 $C(n,r)$ 或 $\binom{n}{r}$：
$$C(n,r) = \binom{n}{r} = \frac{n!}{r!(n-r)!} = \frac{P(n,r)}{r!}$$

**证明思路**：
- 排列考虑顺序，组合不考虑顺序
- 每个 $r$ 元素的组合对应 $r!$ 个不同的排列
- 因此 $C(n,r) = \frac{P(n,r)}{r!} = \frac{n!}{r!(n-r)!}$

**性质 2.2.2 (组合恒等式)**：
1. **对称性**：$\binom{n}{r} = \binom{n}{n-r}$
2. **递推关系**：$\binom{n}{r} = \binom{n-1}{r-1} + \binom{n-1}{r}$（帕斯卡三角形）
3. **求和公式**：$\sum_{r=0}^n \binom{n}{r} = 2^n$

**证明思路**：
1. 对称性：选择 $r$ 个元素等价于选择 $n-r$ 个元素不选
2. 递推关系：考虑某个特定元素，要么选它（$\binom{n-1}{r-1}$），要么不选（$\binom{n-1}{r}$）
3. 求和公式：每个元素要么选要么不选，共 $2^n$ 种方式

#### 二项式定理

**定理 2.2.1 (二项式定理)**
对于任意实数 $x, y$ 和正整数 $n$：
$$(x+y)^n = \sum_{k=0}^n \binom{n}{k} x^{n-k} y^k$$

**证明思路**：
- 展开 $(x+y)^n = (x+y)(x+y)\cdots(x+y)$
- 每个项 $x^{n-k}y^k$ 来自从 $n$ 个因子中选择 $k$ 个取 $y$，其余取 $x$
- 因此系数为 $\binom{n}{k}$

**应用**：
- 计算 $(1+1)^n = 2^n = \sum_{k=0}^n \binom{n}{k}$（验证组合求和公式）
- 计算 $(1-1)^n = 0 = \sum_{k=0}^n (-1)^k \binom{n}{k}$（交错和）

---

## 🔗 关联文档 (编号: C.03.08.D.04)

### 概念体系文档

- [离散数学概念](./08-离散数学概念.md) - 基础版本
- [主题概念总览](./00-主题概念总览.md) - 所有主题概念总览

### 知识矩阵文档

- [分支关联矩阵](../02-知识矩阵/01-分支关联矩阵.md) - 离散数学与其他分支的关联
- [学习难度矩阵](../02-知识矩阵/03-学习难度矩阵.md) - 离散数学各领域的学习难度

---

**创建日期**: 2025年11月21日
**最后更新**: 2025年11月21日
**维护状态**: 持续更新中
**版本**: v1.0 - 详细版
