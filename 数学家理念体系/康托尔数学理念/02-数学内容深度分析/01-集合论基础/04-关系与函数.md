# 关系与函数：从集合到映射

## 一、二元关系

### 1.1 关系的定义

**定义**：

集合A和B之间的二元关系（binary relation）R是A × B的子集：

```text
R ⊆ A × B
```

如果(a, b) ∈ R，记作 a R b。

**例子**：

```text
A = {1, 2, 3}, B = {a, b}
R = {(1, a), (2, b), (3, a)}
```

则 1 R a, 2 R b, 3 R a。

---

### 1.2 关系的基本概念

**定义域（domain）**：

```text
dom(R) = {a ∈ A : 存在b ∈ B使得 (a, b) ∈ R}
```

**值域（range）**：

```text
ran(R) = {b ∈ B : 存在a ∈ A使得 (a, b) ∈ R}
```

**逆关系**：

```text
R^{-1} = {(b, a) : (a, b) ∈ R}
```

---

### 1.3 关系的性质

**自反性**：

关系R在A上是自反的，如果对所有a ∈ A，a R a。

**对称性**：

关系R是对称的，如果a R b蕴含b R a。

**传递性**：

关系R是传递的，如果a R b且b R c蕴含a R c。

**反对称性**：

关系R是反对称的，如果a R b且b R a蕴含a = b。

---

## 二、等价关系

### 2.1 等价关系的定义

**定义**：

关系R是等价关系，如果它满足：

- **自反性**：a R a
- **对称性**：a R b → b R a
- **传递性**：a R b 且 b R c → a R c

**例子**：

- 相等关系：=
- 模n同余：a ≡ b (mod n)
- 集合的等势：|A| = |B|

---

### 2.2 等价类

**定义**：

元素a的等价类：

```text
[a] = {b ∈ A : a R b}
```

**性质**：

- a ∈ [a]
- 如果a R b，则[a] = [b]
- 如果¬(a R b)，则[a] ∩ [b] = ∅

---

### 2.3 商集

**定义**：

等价关系R的商集：

```text
A/R = {[a] : a ∈ A}
```

**划分**：

商集A/R是A的一个划分（partition）。

**例子**：

模3同余的商集：

```text
Z/≡₃ = {[0], [1], [2]}
```

---

## 三、序关系

### 3.1 偏序关系

**定义**：

关系R是偏序关系，如果它满足：

- **自反性**：a R a
- **反对称性**：a R b 且 b R a → a = b
- **传递性**：a R b 且 b R c → a R c

**例子**：

- 集合的包含关系：⊆
- 自然数的整除关系：|
- 实数的≤关系

---

### 3.2 全序关系

**定义**：

偏序关系R是全序的，如果对任意a, b ∈ A，a R b或b R a。

**例子**：

- 实数的≤关系
- 字典序

**良序关系**：

全序关系R是良序的，如果A的每个非空子集都有最小元。

---

### 3.3 哈斯图

**哈斯图**：

用于表示有限偏序集的图。

**构造**：

- 每个元素用一个点表示
- 如果a < b且不存在c使得a < c < b，则从a到b画一条边

---

## 四、函数

### 4.1 函数的定义

**定义**：

函数f: A → B是关系f ⊆ A × B，满足：

- **单值性**：如果(a, b₁) ∈ f 且 (a, b₂) ∈ f，则b₁ = b₂
- **定义域**：dom(f) = A

**记号**：

- f: A → B 表示f是从A到B的函数
- f(a) = b 表示(a, b) ∈ f

---

### 4.2 函数的性质

**单射（injection）**：

函数f是单射，如果f(a₁) = f(a₂)蕴含a₁ = a₂。

**满射（surjection）**：

函数f是满射，如果ran(f) = B。

**双射（bijection）**：

函数f是双射，如果它既是单射又是满射。

---

### 4.3 函数的复合

**定义**：

如果f: A → B 且 g: B → C，则复合函数：

```text
g ∘ f: A → C
(g ∘ f)(a) = g(f(a))
```

**性质**：

- **结合律**：(h ∘ g) ∘ f = h ∘ (g ∘ f)
- **单位元**：id_B ∘ f = f = f ∘ id_A

---

## 五、函数的逆

### 5.1 逆函数

**定义**：

如果f: A → B是双射，则存在逆函数：

```text
f^{-1}: B → A
f^{-1}(b) = a 当且仅当 f(a) = b
```

**性质**：

```text
f^{-1} ∘ f = id_A
f ∘ f^{-1} = id_B
```

---

### 5.2 左逆和右逆

**左逆**：

函数g: B → A是f的左逆，如果g ∘ f = id_A。

**右逆**：

函数h: B → A是f的右逆，如果f ∘ h = id_B。

**定理**：

- f有左逆当且仅当f是单射
- f有右逆当且仅当f是满射
- f有逆当且仅当f是双射

---

## 六、函数空间

### 6.1 函数集合

**定义**：

所有从A到B的函数集合：

```text
B^A = {f : f是A到B的函数}
```

**基数**：

```text
|B^A| = |B|^{|A|}
```

**例子**：

```text
|{0, 1}^N| = 2^{ℵ₀} = 𝔠
```

---

### 6.2 特征函数

**定义**：

集合A的子集B的特征函数：

```text
χ_B: A → {0, 1}
χ_B(a) = 1 如果 a ∈ B，否则 0
```

**对应关系**：

```text
P(A) ≅ {0, 1}^A
```

**基数**：

```text
|P(A)| = 2^{|A|}
```

---

## 七、关系的复合

### 7.1 关系的复合

**定义**：

如果R ⊆ A × B 且 S ⊆ B × C，则复合关系：

```text
S ∘ R = {(a, c) : 存在b ∈ B使得 (a, b) ∈ R 且 (b, c) ∈ S}
```

**性质**：

- **结合律**：(T ∘ S) ∘ R = T ∘ (S ∘ R)
- **逆关系**：(S ∘ R)^{-1} = R^{-1} ∘ S^{-1}

---

### 7.2 关系的幂

**定义**：

关系R在A上的n次幂：

```text
Rⁿ = R ∘ R ∘ ... ∘ R（n次）
```

**传递闭包**：

```text
R^+ = ∪_{n≥1} Rⁿ
```

**自反传递闭包**：

```text
R^* = ∪_{n≥0} Rⁿ = R^+ ∪ id_A
```

---

## 八、应用

### 8.1 在数学中的应用

**所有数学对象**：

- **数**：可以定义为集合
- **函数**：有序对的集合
- **关系**：有序对的集合

**结构**：

- **群**：运算作为函数
- **拓扑空间**：连续函数
- **流形**：光滑函数

---

### 8.2 在逻辑学中的应用

**谓词**：

n元谓词可以看作n个集合的笛卡尔积的子集。

**模型**：

在模型论中，结构使用函数和关系定义。

---

### 8.3 在计算机科学中的应用

**数据结构**：

- **映射**：对应函数
- **关系**：对应二元关系
- **图**：对应关系

**数据库**：

关系数据库基于关系理论。

**形式化方法**：

使用函数和关系形式化程序。

---

## 九、总结

### 关系与函数的历史地位

**核心贡献**：

关系与函数是集合论的重要概念：

1. **理论意义**：
   - 将函数和关系统一为集合
   - 建立了函数论的基础
   - 连接了集合论与数学各分支

2. **方法论意义**：
   - **关系**：有序对的集合
   - **函数**：特殊的二元关系
   - **等价关系**：划分集合

3. **应用意义**：
   - **数学**：所有数学对象的基础
   - **逻辑学**：谓词、模型
   - **计算机科学**：数据结构、数据库

**与数学发展的关系**：

关系与函数是数学的基础概念：

- **从集合到关系**：有序对的集合
- **从关系到函数**：特殊的二元关系
- **从函数到结构**：数学结构的基础

康托尔的关系与函数理论将数学从静态集合提升到动态映射，为现代数学提供了基础工具。从关系到函数，从等价关系到序关系，从单射到双射，这一理论展示了数学的深刻统一性和结构力量。

---

**文档状态**: ✅ 完成
**字数**: 约4,200字
**最后更新**: 2025年12月6日
