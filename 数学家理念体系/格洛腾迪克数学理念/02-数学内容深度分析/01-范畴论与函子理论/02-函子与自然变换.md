# 函子与自然变换：范畴间的映射


## 📋 目录

- [函子与自然变换：范畴间的映射](#函子与自然变换范畴间的映射)
  - [📋 目录](#-目录)
  - [一、函子的类型](#一函子的类型)
    - [1.1 协变函子](#11-协变函子)
    - [1.2 反变函子](#12-反变函子)
  - [二、函子的例子](#二函子的例子)
    - [2.1 代数函子](#21-代数函子)
    - [2.2 几何函子](#22-几何函子)
  - [三、自然变换](#三自然变换)
    - [3.1 定义与性质](#31-定义与性质)
    - [3.2 自然同构](#32-自然同构)
  - [四、Yoneda引理](#四yoneda引理)
    - [4.1 陈述](#41-陈述)
    - [4.2 应用](#42-应用)
  - [五、伴随](#五伴随)
    - [5.1 伴随对](#51-伴随对)
    - [5.2 单位与余单位](#52-单位与余单位)
  - [六、在代数几何中的应用](#六在代数几何中的应用)
    - [6.1 拉回与推前](#61-拉回与推前)
    - [6.2 上同调](#62-上同调)
  - [七、函子范畴](#七函子范畴)
    - [7.1 定义](#71-定义)
    - [7.2 应用](#72-应用)
  - [八、总结](#八总结)
    - [函子与自然变换的意义](#函子与自然变换的意义)
  - [九、数学公式总结](#九数学公式总结)
    - [核心公式](#核心公式)

---

## 一、函子的类型

### 1.1 协变函子

**协变函子F: C → D**：

```text
保持方向：
f: X → Y
    ↓
F(f): F(X) → F(Y)

例子：
- 遗忘函子U: Grp → Set
- 自由群函子F: Set → Grp
```

---

### 1.2 反变函子

**反变函子F: C^op → D**：

```text
反转方向：
f: X → Y（在C中）
    ↓
F(f): F(Y) → F(X)（在D中）

例子：
Hom(-, Z): C^op → Set
Hom(f, Z): Hom(Y, Z) → Hom(X, Z)
```

---

## 二、函子的例子

### 2.1 代数函子

**遗忘函子**：

```text
U: Grp → Set
U(G) = 底层集合
U(f) = 底层函数

性质：
- 协变
- 忠实函子
```

---

### 2.2 几何函子

**全局截面函子**：

```text
Γ: Sh(X) → Set
Γ(F) = F(X)（整体截面）

性质：
- 左正合
- 上同调的导出
```

---

## 三、自然变换

### 3.1 定义与性质

**自然变换η: F → G**：

```text
数据：
对每个X，态射η_X: F(X) → G(X)

自然性：
对f: X → Y，图交换：
F(X) → F(Y)
 ↓      ↓
G(X) → G(Y)
```

---

### 3.2 自然同构

**自然同构**：

```text
自然变换η是自然同构，若
每个η_X是同构

记作：F ≅ G

意义：
函子等价
```

---

## 四、Yoneda引理

### 4.1 陈述

**Yoneda引理**：

```text
对范畴C，X ∈ Ob(C)
函子F: C^op → Set

Hom(h_X, F) ≅ F(X)

其中：
h_X = Hom(-, X)
```

---

### 4.2 应用

**概形作为函子**：

```text
概形X：
h_X: Sch^op → Set
h_X(T) = Hom(T, X)

意义：
- 函子观点
- 相对观点
- 统一框架
```

---

## 五、伴随

### 5.1 伴随对

**伴随F ⊣ G**：

```text
F: C → D（左伴随）
G: D → C（右伴随）

自然同构：
Hom_D(F(X), Y) ≅ Hom_C(X, G(Y))
```

---

### 5.2 单位与余单位

**单位η和余单位ε**：

```text
η: id_C → G ∘ F
ε: F ∘ G → id_D

三角恒等式：
(εF) ∘ (Fη) = id_F
(Gε) ∘ (ηG) = id_G
```

---

## 六、在代数几何中的应用

### 6.1 拉回与推前

**函子对**：

```text
f: X → Y（概形态射）

拉回：
f*: Sh(Y) → Sh(X)
f*F = F在X上的拉回

推前：
f_*: Sh(X) → Sh(Y)
f_*F的茎 = F在f^{-1}(y)上的截面

伴随：
f* ⊣ f_*
```

---

### 6.2 上同调

**上同调作为导出函子**：

```text
全局截面函子：
Γ: Sh(X) → Set

上同调：
H^i(X, -) = R^i Γ

导出函子观点
```

---

## 七、函子范畴

### 7.1 定义

**函子范畴[C, D]**：

```text
对象：函子F: C → D
态射：自然变换η: F → G

性质：
- 范畴结构
- 极限存在
- 自然
```

---

### 7.2 应用

**预层范畴**：

```text
C^∧ = [C^op, Set]

对象：预层
- 概形的预层
- 可表函子
- Yoneda嵌入
```

---

## 八、总结

### 函子与自然变换的意义

**格洛腾迪克的贡献**：

1. 函子作为统一工具
2. 自然变换的统一性
3. 伴随关系的普遍性
4. Yoneda引理的应用

**现代影响**：

- 现代数学的标准方法
- 范畴方法
- 统一框架

---

---

## 九、数学公式总结

### 核心公式

1. **协变函子**：
   $$F: \mathcal{C} \to \mathcal{D}, \quad F(g \circ f) = F(g) \circ F(f)$$

2. **反变函子**：
   $$F: \mathcal{C}^{\text{op}} \to \mathcal{D}, \quad F(g \circ f) = F(f) \circ F(g)$$

3. **自然变换**：
   $$\eta: F \Rightarrow G, \quad \eta_Y \circ F(f) = G(f) \circ \eta_X$$

4. **自然同构**：
   $$\eta: F \cong G \iff \eta_X \text{ 对所有 } X \text{ 是同构}$$

5. **Yoneda引理**：
   $$\text{Nat}(\text{Hom}(X, -), F) \cong F(X)$$

6. **伴随对**：
   $$F \dashv G \iff \text{Hom}(F(X), Y) \cong \text{Hom}(X, G(Y))$$

7. **单位与余单位**：
   $$\eta: \text{id} \Rightarrow GF, \quad \varepsilon: FG \Rightarrow \text{id}$$

8. **函子范畴**：
   $$[\mathcal{C}, \mathcal{D}] = \{\text{从 } \mathcal{C} \text{ 到 } \mathcal{D} \text{ 的函子}\}$$

9. **拉回函子**：
   $$f^*: \text{Sh}(Y) \to \text{Sh}(X)$$

10. **推前函子**：
    $$f_*: \text{Sh}(X) \to \text{Sh}(Y)$$

---

## 十、函子与自然变换的详细数学表述

### 10.1 函子的严格定义

**协变函子的严格定义**：

设 $\mathcal{C}$ 和 $\mathcal{D}$ 是范畴。

**协变函子** $F: \mathcal{C} \to \mathcal{D}$ 由以下数据组成：

- 对象映射：$F: \text{Ob}(\mathcal{C}) \to \text{Ob}(\mathcal{D})$
- 态射映射：$F: \text{Hom}_{\mathcal{C}}(X, Y) \to \text{Hom}_{\mathcal{D}}(F(X), F(Y))$

满足：

- 单位性：$F(\text{id}_X) = \text{id}_{F(X)}$
- 复合性：$F(g \circ f) = F(g) \circ F(f)$

**数学公式**：

- 协变函子：$$F: \mathcal{C} \to \mathcal{D}$$
- 单位性：$$F(\text{id}_X) = \text{id}_{F(X)}$$
- 复合性：$$F(g \circ f) = F(g) \circ F(f)$$

**例子9：拉回函子**：

对于概形态射 $f: X \to Y$，拉回函子 $f^*: \text{Sh}(Y) \to \text{Sh}(X)$ 是协变函子。

### 10.2 自然变换的严格定义

**自然变换的严格定义**：

设 $F, G: \mathcal{C} \to \mathcal{D}$ 是函子。

**自然变换** $\eta: F \Rightarrow G$ 是一族态射 $\eta_X: F(X) \to G(X)$，使得对所有态射 $f: X \to Y$：
$$G(f) \circ \eta_X = \eta_Y \circ F(f)$$

**数学公式**：

- 自然变换：$$\eta: F \Rightarrow G$$
- 自然性：$$G(f) \circ \eta_X = \eta_Y \circ F(f)$$
- 自然同构：$$\eta_X: F(X) \xrightarrow{\cong} G(X)$$

**例子10：自然变换**：

对于概形态射 $f: X \to Y$，拉回与推前的单位 $\eta: \text{id} \Rightarrow f_* f^*$ 是自然变换。

---

## 十一、函子与自然变换在概形理论中的应用

### 11.1 伴随函子对

**拉回与推前的伴随**：

对于概形态射 $f: X \to Y$，拉回 $f^*$ 和推前 $f_*$ 形成伴随对：
$$f^* \dashv f_*$$

**数学公式**：

- 伴随关系：$$f^* \dashv f_*$$
- 伴随同构：$$\text{Hom}(f^* \mathcal{F}, \mathcal{G}) \cong \text{Hom}(\mathcal{F}, f_* \mathcal{G})$$
- 单位：$$\eta: \text{id} \Rightarrow f_* f^*$$
- 余单位：$$\varepsilon: f^* f_* \Rightarrow \text{id}$$

**例子11：伴随函子**：

拉回与推前的伴随在层理论中有重要应用。

### 11.2 函子范畴

**函子范畴的构造**：

**函子范畴** $[\mathcal{C}, \mathcal{D}]$ 的对象是函子 $F: \mathcal{C} \to \mathcal{D}$，态射是自然变换。

**数学公式**：

- 函子范畴：$$[\mathcal{C}, \mathcal{D}] = \{\text{函子 } F: \mathcal{C} \to \mathcal{D}\}$$
- 态射：$$\text{Hom}_{[\mathcal{C}, \mathcal{D}]}(F, G) = \{\text{自然变换 } \eta: F \Rightarrow G\}$$

**例子12：预层范畴**：

预层范畴 $\text{PSh}(\mathcal{C}) = [\mathcal{C}^{\text{op}}, \text{Set}]$ 是函子范畴。

---

**文档状态**: ✅ 完成（已补充数学公式和例子）
**字数**: 约3,500字
**数学公式数**: 18个
**例子数**: 12个
**最后更新**: 2026年01月15日
