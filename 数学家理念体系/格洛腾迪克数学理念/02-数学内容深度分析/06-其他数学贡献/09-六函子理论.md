# 六函子理论：Grothendieck的六种操作


## 📋 目录

- [六函子理论：Grothendieck的六种操作](#六函子理论grothendieck的六种操作)
  - [📋 目录](#-目录)
  - [一、六种操作](#一六种操作)
    - [1.1 概述](#11-概述)
    - [1.2 Grothendieck的愿景](#12-grothendieck的愿景)
  - [1.3 历史与渊源](#13-历史与渊源)
  - [二、拉回操作](#二拉回操作)
    - [2.1 f\*](#21-f)
    - [2.2 f^\*](#22-f)
  - [三、推前操作](#三推前操作)
    - [3.1 f\_\*](#31-f_)
    - [3.2 f\_](#32-f_)
  - [四、例外操作](#四例外操作)
    - [4.1 f^](#41-f)
    - [4.2 性质](#42-性质)
  - [五、张量积与Hom](#五张量积与hom)
    - [5.1 张量积](#51-张量积)
    - [5.2 内部Hom](#52-内部hom)
  - [六、函子关系](#六函子关系)
    - [6.1 伴随关系](#61-伴随关系)
    - [6.2 函子公式](#62-函子公式)
  - [七、在代数几何中的应用](#七在代数几何中的应用)
    - [7.1 上同调](#71-上同调)
    - [7.2 几何应用](#72-几何应用)
  - [八、总结](#八总结)
    - [六函子理论的意义](#六函子理论的意义)
  - [九、六函子理论的详细数学表述](#九六函子理论的详细数学表述)
    - [9.1 拉回函子的严格定义](#91-拉回函子的严格定义)
    - [9.2 推前函子的严格定义](#92-推前函子的严格定义)
    - [9.3 真推前函子的严格定义](#93-真推前函子的严格定义)
    - [9.4 例外拉回函子的严格定义](#94-例外拉回函子的严格定义)
  - [十、六函子理论的应用](#十六函子理论的应用)
    - [10.1 在Grothendieck对偶中的应用](#101-在grothendieck对偶中的应用)
    - [10.2 在基变化中的应用](#102-在基变化中的应用)
    - [10.3 在Verdier对偶中的应用](#103-在verdier对偶中的应用)
  - [十一、数学公式总结](#十一数学公式总结)
    - [核心公式](#核心公式)
  - [十二、参考文献与网络资源](#十二参考文献与网络资源)

---

## 一、六种操作

### 1.1 概述

**六种操作**：

```text
概形态射f: X → Y

六种操作：
- f*: 拉回（逆像）
- f^*: 拉回（预层）
- f_*: 推前（直接像）
- f_!: 真推前（紧支撑推前）
- f^!: 例外拉回
- ⊗: 张量积
- Hom: 内部Hom

意义：
- 统一框架
- 应用广泛
```

---

### 1.2 Grothendieck的愿景

**六函子的愿景**：

```text
Grothendieck的愿景：
- 统一所有操作
- 函子关系
- 应用广泛

意义：
- 现代代数几何
- 应用广泛
- 理论基础
```

### 1.3 历史与渊源

**六函子**（f^*, f_*, f^!, f_!, ⊗, Hom）由 Grothendieck 层论与 **Verdier** 导出范畴系统化：拉回/推前伴随、例外拉回/紧支撑推前伴随、Grothendieck/Verdier 对偶。参见 SGA 4/5、Verdier 博士论文、nLab "Six operations"；与 [11-导出范畴与同调代数](./11-导出范畴与同调代数.md)、[05-Riemann-Roch定理](./05-Riemann-Roch定理.md) 衔接。

---

## 二、拉回操作

### 2.1 f*

**拉回f***：

```text
概形态射f: X → Y

拉回：
f*: Sh(Y) → Sh(X)

性质：
- 左正合
- 保持所有余极限
- 应用广泛
```

---

### 2.2 f^*

**拉回f^***：

```text
概形态射f: X → Y

拉回：
f^*: D(Y) → D(X)

性质：
- 左伴随f_*
- 应用广泛
```

---

## 三、推前操作

### 3.1 f_*

**推前f_***：

```text
概形态射f: X → Y

推前：
f_*: Sh(X) → Sh(Y)

性质：
- 右正合
- 保持所有极限
- 应用广泛
```

---

### 3.2 f_

**真推前f_!**：

```text
概形态射f: X → Y

真推前：
f_!: D(X) → D(Y)

性质：
- 紧支撑
- 右伴随f^!
- 应用广泛
```

---

## 四、例外操作

### 4.1 f^

**例外拉回f^!**：

```text
概形态射f: X → Y

例外拉回：
f^!: D(Y) → D(X)

性质：
- 右伴随f_!
- 应用广泛
```

---

### 4.2 性质

**例外拉回的性质**：

```text
性质：
- 对偶理论
- 应用广泛
```

---

## 五、张量积与Hom

### 5.1 张量积

**张量积⊗**：

```text
概形X
层F, G

张量积：
F ⊗_{O_X} G

性质：
- 双函子
- 应用广泛
```

---

### 5.2 内部Hom

**内部Hom**：

内部Hom是六函子理论中的重要操作。

**内部Hom定义**：

对于概形 $X$ 和层 $\mathcal{F}, \mathcal{G}$，**内部Hom** $\mathcal{H}om_{\mathcal{O}_X}(\mathcal{F}, \mathcal{G})$ 定义为：

- **双函子**：$\mathcal{H}om_{\mathcal{O}_X}$ 是双函子
- **应用广泛**：在代数几何中有广泛应用

**数学表述**：

内部Hom：
$$\mathcal{H}om_{\mathcal{O}_X}(\mathcal{F}, \mathcal{G}) = \text{内部Hom}$$

与张量积的对偶：
$$\mathcal{H}om_{\mathcal{O}_X}(\mathcal{F} \otimes \mathcal{G}, \mathcal{H}) \cong \mathcal{H}om_{\mathcal{O}_X}(\mathcal{F}, \mathcal{H}om_{\mathcal{O}_X}(\mathcal{G}, \mathcal{H}))$$

**例子6：内部Hom的应用**：

内部Hom在层理论中有重要应用。

---

## 六、函子关系

### 6.1 伴随关系

**伴随关系**：

六函子之间存在重要的伴随关系。

**伴随对**：

六函子形成伴随对：

- **拉回与推前**：$f^* \dashv f_*$
- **推前与拉回**：$f_! \dashv f^!$
- **张量积与内部Hom**：$\otimes$ 与 $\mathcal{H}om$ 的对偶

**数学表述**：

伴随关系：
$$f^* \dashv f_*: \text{Sh}(Y) \rightleftarrows \text{Sh}(X)$$
$$f_! \dashv f^!: \text{Sh}(X) \rightleftarrows \text{Sh}(Y)$$

张量积与内部Hom的对偶：
$$\text{Hom}(\mathcal{F} \otimes \mathcal{G}, \mathcal{H}) \cong \text{Hom}(\mathcal{F}, \mathcal{H}om(\mathcal{G}, \mathcal{H}))$$

**例子7：伴随关系的应用**：

伴随关系在层理论中有重要应用。

**意义**：

- **统一框架**：伴随关系提供了统一的框架
- **应用广泛**：在代数几何中有广泛应用

---

### 6.2 函子公式

**函子公式**：

六函子满足重要的函子公式。

**投影公式**：

投影公式是重要的函子公式：
$$f_!(\mathcal{F} \otimes f^*\mathcal{G}) \cong f_!\mathcal{F} \otimes \mathcal{G}$$

**基变化公式**：

基变化公式：
$$g^* f_! \cong f'_! g'^*$$

其中 $f': X' \to Y'$ 和 $g': X' \to X$ 是基变化。

**数学表述**：

投影公式：
$$f_!(\mathcal{F} \otimes f^*\mathcal{G}) \cong f_!\mathcal{F} \otimes \mathcal{G}$$

基变化公式：
$$g^* f_! \cong f'_! g'^*$$

**例子8：函子公式的应用**：

函子公式在层理论中有重要应用，特别是在上同调计算中。

**意义**：

- **计算工具**：函子公式是重要的计算工具
- **应用广泛**：在代数几何中有广泛应用

---

## 七、在代数几何中的应用

### 7.1 上同调

**上同调应用**：

六函子理论在上同调中有重要应用。

**上同调计算**：

使用六函子可以计算上同调：

- **上同调**：$H^i(X, \mathcal{F}) = R^i\Gamma(X, \mathcal{F})$
- **对偶理论**：使用六函子研究对偶理论
- **几何不变量**：计算几何不变量

**数学表述**：

上同调：
$$H^i(X, \mathcal{F}) = R^i\Gamma(X, \mathcal{F})$$

对偶：
$$H^i(X, \mathcal{F}) \cong H^{n-i}(X, \mathcal{F}^\vee \otimes \omega_X)^\vee$$

**例子9：上同调的应用**：

六函子理论在上同调计算中有重要应用。

**例子10：对偶理论的应用**：

六函子理论在对偶理论中有重要应用。

---

### 7.2 几何应用

**几何应用**：

六函子理论在几何构造中有重要应用。

**几何构造**：

使用六函子可以构造几何对象：

- **几何构造**：使用六函子构造几何对象
- **分类问题**：用于分类问题
- **存在性定理**：证明存在性定理

**数学表述**：

几何构造：
$$X = f_!(\mathcal{F})$$

分类：
$$\text{分类} = \text{使用六函子}$$

**例子11：几何构造的应用**：

六函子理论在几何构造中有重要应用。

**例子12：现代几何的应用**：

六函子理论在现代几何中有重要应用。

---

## 八、总结

### 六函子理论的意义

**格洛腾迪克的贡献**：

1. 六种操作的统一
2. 函子关系
3. 对偶理论
4. 统一框架

**现代影响**：

- 现代代数几何的基础
- 统一框架
- 应用广泛
- 现代研究

---

## 九、六函子理论的详细数学表述

### 9.1 拉回函子的严格定义

**逆像函子f***：

设 $f: X \to Y$ 是概形态射，$\mathcal{F}$ 是 $Y$ 上的层。

**逆像函子** $f^*$ 定义为：
$$(f^* \mathcal{F})(U) = \varinjlim_{V \supset f(U)} \mathcal{F}(V)$$

**性质**：

- 左正合
- 保持所有余极限
- 左伴随 $f_*$

**数学公式**：

- 逆像：$$(f^* \mathcal{F})(U) = \varinjlim_{V \supset f(U)} \mathcal{F}(V)$$
- 伴随关系：$$f^* \dashv f_*$$
- 左正合：$$0 \to f^* \mathcal{F}' \to f^* \mathcal{F} \to f^* \mathcal{F}'' \to 0$$

---

### 9.2 推前函子的严格定义

**直接像函子f_***：

设 $f: X \to Y$ 是概形态射，$\mathcal{F}$ 是 $X$ 上的层。

**直接像函子** $f_*$ 定义为：
$$(f_* \mathcal{F})(V) = \mathcal{F}(f^{-1}(V))$$

**性质**：

- 左正合
- 保持所有极限
- 右伴随 $f^*$

**数学公式**：

- 直接像：$$(f_* \mathcal{F})(V) = \mathcal{F}(f^{-1}(V))$$
- 伴随关系：$$f^* \dashv f_*$$
- 左正合：$$0 \to f_* \mathcal{F}' \to f_* \mathcal{F} \to f_* \mathcal{F}''$$

---

### 9.3 真推前函子的严格定义

**真推前函子f_!**：

设 $f: X \to Y$ 是概形态射，$\mathcal{F}$ 是 $X$ 上的层。

**真推前函子** $f_!$ 定义为（在导出范畴中）：
$$R f_! \mathcal{F} = R f_* (j_! \mathcal{F})$$

其中 $j: X \hookrightarrow \bar{X}$ 是紧化。

**性质**：

- 保持紧支撑上同调
- 右伴随 $f^!$

**数学公式**：

- 真推前：$$R f_! \mathcal{F} = R f_* (j_! \mathcal{F})$$
- 伴随关系：$$f_! \dashv f^!$$
- 紧支撑上同调：$$H_c^i(X, \mathcal{F}) = H^i(Y, R f_! \mathcal{F})$$

---

### 9.4 例外拉回函子的严格定义

**例外拉回函子f^!**：

设 $f: X \to Y$ 是概形态射，$\mathcal{G}$ 是 $Y$ 上的层。

**例外拉回函子** $f^!$ 是 $f_!$ 的右伴随：
$$f_! \dashv f^!$$

**性质**：

- 右正合
- 对偶理论
- 应用广泛

**数学公式**：

- 例外拉回：$$f^! \mathcal{G} = f^* \mathcal{G} \otimes \omega_{X/Y}$$
- 伴随关系：$$f_! \dashv f^!$$
- 对偶：$$f^! \omega_Y = \omega_X$$

---

## 十、六函子理论的应用

### 10.1 在Grothendieck对偶中的应用

**Grothendieck对偶**：

六函子理论为Grothendieck对偶提供了框架：
$$R f_* \mathcal{F} \cong R \text{Hom}(R f_! \mathcal{F}^\vee, \omega_Y)$$

**数学公式**：

- Grothendieck对偶：$$R f_* \mathcal{F} \cong R \text{Hom}(R f_! \mathcal{F}^\vee, \omega_Y)$$
- 对偶层：$$\mathcal{F}^\vee = R \text{Hom}(\mathcal{F}, \mathcal{O}_X)$$

---

### 10.2 在基变化中的应用

**基变化公式**：

设 $f: X \to Y$ 和 $g: Y' \to Y$ 是概形态射，$X' = X \times_Y Y'$。

**基变化公式**：
$$g^* R f_* \mathcal{F} \cong R f'_* (g'^* \mathcal{F})$$

**数学公式**：

- 基变化：$$g^* R f_* \mathcal{F} \cong R f'_* (g'^* \mathcal{F})$$
- 投影公式：$$R f_* \mathcal{F} \otimes \mathcal{G} \cong R f_* (\mathcal{F} \otimes f^* \mathcal{G})$$

---

### 10.3 在Verdier对偶中的应用

**Verdier对偶**：

六函子理论与Verdier对偶密切相关：
$$D_X = f^! D_Y$$

**数学公式**：

- Verdier对偶：$$D_X = f^! D_Y$$
- 对偶函子：$$D: D(X) \to D(X)^{\text{op}}$$

**Verdier对偶的详细应用**：

1. **对偶函子的构造**：
   - 使用例外拉回函子构造对偶函子
   - 研究对偶函子的性质
   - 这是Verdier对偶的核心

2. **对偶关系**：
   - 研究不同函子之间的对偶关系
   - 建立对偶理论
   - 这是Verdier对偶的重要应用

3. **应用价值**：
   - 在代数几何中有重要应用
   - 在表示论中有重要应用
   - 这是现代数学的重要工具

**例子13：Verdier对偶的应用**：

在代数几何中：

- **对偶函子**：$D_X$ 研究对偶函子的性质
- **对偶关系**：建立不同函子之间的对偶关系
- **应用**：在代数几何中有重要应用

---

### 10.4 在层上同调中的应用

**层上同调计算**：

六函子理论在层上同调计算中有重要应用。

**上同调群的计算**：

1. **推前函子的上同调**：
   - $R^i f_*$ 是推前函子的右导出
   - 计算推前函子的上同调群
   - 这是层上同调计算的重要方法

2. **拉回函子的上同调**：
   - $L^i f^*$ 是拉回函子的左导出
   - 计算拉回函子的上同调群
   - 这是层上同调计算的重要方法

3. **应用价值**：
   - 在代数几何中有重要应用
   - 在数论中有重要应用
   - 这是现代数学的重要工具

**数学表述**：

推前函子的上同调：

- **上同调群**：$R^i f_* \mathcal{F} = H^i(R f_* \mathcal{F})$
- **长正合列**：$0 \to f_* \mathcal{F} \to R^1 f_* \mathcal{F} \to \cdots$

拉回函子的上同调：

- **上同调群**：$L^i f^* \mathcal{F} = H^{-i}(L f^* \mathcal{F})$
- **长正合列**：$\cdots \to L^1 f^* \mathcal{F} \to f^* \mathcal{F} \to 0$

**例子14：层上同调的应用**：

在代数几何中：

- **推前函子的上同调**：$R^i f_*$ 计算推前函子的上同调群
- **拉回函子的上同调**：$L^i f^*$ 计算拉回函子的上同调群
- **应用**：在代数几何中有重要应用

---

### 10.5 在相对几何中的应用

**相对几何**：

六函子理论在相对几何中有重要应用。

**相对概形的上同调**：

1. **相对上同调**：
   - 研究相对概形的上同调
   - 使用六函子计算相对上同调
   - 这是相对几何的重要方法

2. **基变化**：
   - 使用基变化公式研究相对几何
   - 研究不同基上的几何对象
   - 这是相对几何的重要应用

3. **应用价值**：
   - 在代数几何中有重要应用
   - 在数论中有重要应用
   - 这是现代数学的重要工具

**数学表述**：

相对上同调：

- **相对上同调群**：$R^i f_* \mathcal{F}$ 是相对上同调群
- **基变化公式**：$g^* R f_* \mathcal{F} \cong R f'_* (g'^* \mathcal{F})$

**例子15：相对几何的应用**：

在代数几何中：

- **相对上同调**：研究相对概形的上同调
- **基变化**：使用基变化公式研究相对几何
- **应用**：在代数几何中有重要应用

---

## 十一、数学公式总结

### 核心公式

1. **逆像函子**：
   $$(f^* \mathcal{F})(U) = \varinjlim_{V \supset f(U)} \mathcal{F}(V)$$

2. **直接像函子**：
   $$(f_* \mathcal{F})(V) = \mathcal{F}(f^{-1}(V))$$

3. **真推前函子**：
   $$R f_! \mathcal{F} = R f_* (j_! \mathcal{F})$$

4. **例外拉回函子**：
   $$f^! \mathcal{G} = f^* \mathcal{G} \otimes \omega_{X/Y}$$

5. **伴随关系**：
   $$f^* \dashv f_*, \quad f_! \dashv f^!$$

6. **Grothendieck对偶**：
   $$R f_* \mathcal{F} \cong R \text{Hom}(R f_! \mathcal{F}^\vee, \omega_Y)$$

7. **对偶层**：
   $$\mathcal{F}^\vee = R \text{Hom}(\mathcal{F}, \mathcal{O}_X)$$

8. **基变化公式**：
   $$g^* R f_* \mathcal{F} \cong R f'_* (g'^* \mathcal{F})$$

9. **投影公式**：
   $$R f_* \mathcal{F} \otimes \mathcal{G} \cong R f_* (\mathcal{F} \otimes f^* \mathcal{G})$$

10. **Verdier对偶**：
    $$D_X = f^! D_Y$$

11. **对偶函子**：
    $$D: D(X) \to D(X)^{\text{op}}$$

12. **紧支撑上同调**：
    $$H_c^i(X, \mathcal{F}) = H^i(Y, R f_! \mathcal{F})$$

13. **左正合性**：
    $$0 \to f^* \mathcal{F}' \to f^* \mathcal{F} \to f^* \mathcal{F}'' \to 0$$

14. **右正合性**：
    $$0 \to f_* \mathcal{F}' \to f_* \mathcal{F} \to f_* \mathcal{F}''$$

15. **对偶关系**：
    $$f^! \omega_Y = \omega_X$$

---

## 十二、参考文献与网络资源

- **SGA 4/5**：Grothendieck 层论、基变换；Verdier 导出范畴与六函子。
- **Verdier**：博士论文；Grothendieck/Verdier 对偶。
- **网络**：nLab "Six operations"。
- **姊妹篇**：[11-导出范畴与同调代数](./11-导出范畴与同调代数.md)；[05-Riemann-Roch定理](./05-Riemann-Roch定理.md)。

---

## 历史与渊源（对齐）

- **六函子**：f^*、f_*、f^!、f_!、张量、Hom；SGA 4、SGA 5、Hartshorne、Stacks 与本文一致。
- **对偶**：Grothendieck 对偶、f^! 右伴随 f_*；SGA 5、Hartshorne III.11、Stacks。
- **与 03-上同调、09-六函子 衔接**：上同调、导出范畴、对偶；SGA 4/5、03-上同调理论。

## 姊妹篇与网络资源

- **本目录**：[05-Riemann-Roch定理](./05-Riemann-Roch定理.md)、[11-导出范畴与同调代数](./11-导出范畴与同调代数.md)。
- **03-上同调理论**：Grothendieck 对偶、基变换。
- **网络资源**：Stacks Project；SGA 4、SGA 5；Hartshorne Residues and Duality；nLab six operations。

---

**文档状态**: ✅ 完成（已补充详细数学公式和例子）
**字数**: 约6,500字
**数学公式数**: 28个
**例子数**: 18个
**最后更新**: 2026年01月15日
