# 思维导图

**创建日期**: 2025年12月11日
**来源**: Category Theory Using Haskell, 全书
**主题编号**: CT.YUKITA.05.01

---

## 📑 目录

- [思维导图](#思维导图)
  - [📑 目录](#-目录)
  - [一、范畴论核心概念思维导图](#一范畴论核心概念思维导图)
    - [1.1 范畴的结构](#11-范畴的结构)
    - [1.2 函子的层次](#12-函子的层次)
  - [二、Haskell类型系统思维导图](#二haskell类型系统思维导图)
    - [2.1 类型类层次](#21-类型类层次)
    - [2.2 类型构造](#22-类型构造)
  - [三、单子计算思维导图](#三单子计算思维导图)
    - [3.1 单子的结构](#31-单子的结构)
    - [3.2 单子的应用](#32-单子的应用)
  - [四、自然变换思维导图](#四自然变换思维导图)
    - [4.1 自然变换的结构](#41-自然变换的结构)
  - [五、Yoneda引理思维导图](#五yoneda引理思维导图)
    - [5.1 Yoneda引理的结构](#51-yoneda引理的结构)

---

## 一、范畴论核心概念思维导图

### 1.1 范畴的结构

```
范畴 (Category)
├── 对象 (Objects)
│   ├── Haskell类型
│   │   ├── 基本类型：Int, Bool, Char
│   │   ├── 复合类型：[Int], (Int, Bool)
│   │   └── 函数类型：Int -> Bool
│   └── 数学表示：A, B, C ∈ Ob(Hask)
├── 映射 (Morphisms)
│   ├── Haskell函数：f :: A -> B
│   ├── 数学表示：f: A → B
│   └── 性质：单射、满射、双射
├── 恒等映射 (Identity)
│   ├── Haskell：id :: A -> A
│   ├── 数学：1_A: A → A
│   └── 性质：f . id = f, id . f = f
└── 复合 (Composition)
    ├── Haskell：(.) :: (b -> c) -> (a -> b) -> (a -> c)
    ├── 数学：g ∘ f: A → C
    └── 性质：结合律 (h . g) . f = h . (g . f)
```

### 1.2 函子的层次

```
函子 (Functor)
├── 协变函子 (Covariant)
│   ├── Functor类型类
│   ├── fmap :: (a -> b) -> f a -> f b
│   └── 例子：Maybe, [], Either a
├── 反变函子 (Contravariant)
│   ├── Contravariant类型类
│   ├── contramap :: (b -> a) -> f a -> f b
│   └── 例子：(-> r)
└── 函子定律
    ├── 恒等律：fmap id = id
    └── 复合律：fmap (g . f) = fmap g . fmap f
```

---

## 二、Haskell类型系统思维导图

### 2.1 类型类层次

```
Functor
├── 定义：fmap :: (a -> b) -> f a -> f b
├── 定律：恒等律、复合律
└── 例子：Maybe, [], Either a
    │
    └── Applicative
        ├── 定义：pure :: a -> f a
        ├── (<*>) :: f (a -> b) -> f a -> f b
        ├── 定律：恒等律、复合律、同态律、交换律
        └── 例子：Maybe, [], IO
            │
            └── Monad
                ├── 定义：return :: a -> m a
                ├── (>>=) :: m a -> (a -> m b) -> m b
                ├── 定律：左单位律、右单位律、结合律
                └── 例子：Maybe, [], IO, State, Reader, Writer
```

### 2.2 类型构造

```
类型构造
├── 积 (Product)
│   ├── Haskell：(A, B)
│   ├── 投影：fst, snd
│   └── 泛性质：对任意X和f: X→A, g: X→B，存在唯一h: X→(A,B)
├── 余积 (Coproduct)
│   ├── Haskell：Either A B
│   ├── 包含：Left, Right
│   └── 泛性质：对任意X和f: A→X, g: B→X，存在唯一h: Either A B→X
├── 终对象 (Terminal)
│   ├── Haskell：()
│   └── 性质：对任意类型A，存在唯一映射A→()
└── 始对象 (Initial)
    ├── Haskell：Void
    └── 性质：对任意类型A，存在唯一映射Void→A
```

---

## 三、单子计算思维导图

### 3.1 单子的结构

```
单子 (Monad)
├── 函子：T: Hask → Hask
├── 单位：η: 1_Hask ⇒ T
│   └── Haskell：return :: a -> m a
├── 乘法：μ: T ∘ T ⇒ T
│   └── Haskell：join :: m (m a) -> m a
└── 定律
    ├── 左单位律：μ ∘ (T η) = 1_T
    ├── 右单位律：μ ∘ (η T) = 1_T
    └── 结合律：μ ∘ (T μ) = μ ∘ (μ T)
```

### 3.2 单子的应用

```
单子应用
├── Maybe单子
│   ├── 效果：可能失败的计算
│   ├── 应用：错误处理、可选值
│   └── 例子：safeDiv, chainDiv
├── List单子
│   ├── 效果：非确定性计算
│   ├── 应用：搜索、组合生成
│   └── 例子：combinations, permutations
├── IO单子
│   ├── 效果：输入输出操作
│   ├── 应用：文件操作、网络通信
│   └── 例子：readFile, writeFile
├── State单子
│   ├── 效果：状态计算
│   ├── 应用：状态机、随机数
│   └── 例子：increment, computation
└── 单子变换器
    ├── 组合单子效果
    ├── 例子：StateT, ReaderT
    └── 应用：复杂计算场景
```

---

## 四、自然变换思维导图

### 4.1 自然变换的结构

```
自然变换 (Natural Transformation)
├── 定义：η: F ⇒ G
│   ├── 分量：η_A: F(A) → G(A)
│   └── 自然性：η_B ∘ F(f) = G(f) ∘ η_A
├── Haskell表示
│   ├── 类型：Nat f g = forall a. f a -> g a
│   ├── 例子：maybeToList :: Nat Maybe []
│   └── 自然性：自动满足（forall保证）
├── 复合
│   ├── 垂直复合：ε ∘ η
│   └── 水平复合：ε * η
└── 自然同构
    ├── 定义：每个分量都是同构
    ├── 意义：函子等价
    └── 例子：Maybe ≅ Either ()
```

---

## 五、Yoneda引理思维导图

### 5.1 Yoneda引理的结构

```
Yoneda引理
├── 数学表述
│   └── Nat(Hom(-, A), F) ≅ F(A)
├── Haskell对应
│   ├── Nat (Hom (-, a)) f ≅ f a
│   └── Yoneda机器：隐藏参数、延迟计算
├── 应用
│   ├── 反向工程
│   ├── 性能优化
│   └── API设计
└── 意义
    ├── 函子由其值唯一确定
    ├── 类型系统推理能力
    └── 抽象与实现的桥梁
```

---

**最后更新**: 2025年12月11日
**参考章节**: 全书
